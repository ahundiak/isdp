# Master env file for isdp development

export ISDP_SOURCE=$HOME/isdp
export ISDP_TARGET=$HOME/target
export ISDP_INSTALL=$HOME/install
export ISDP_LEGACY=$HOME/legacy

# /opt/ingr needs to be symbolicallly linked to ISDP_LEGACY
# /usr/ip32 needs to be linked to ISDP_LEGACY as well
# Manually link for now
export ISDP_OPT_INGR=/opt/ingr

# This is hardcoded into some of the build scripts
export INGRHOME=/opt/ingr

# Try to limit paths to these two directories
export PATH=$PATHX:$ISDP_INSTALL/bin

export LD_LIBRARY_PATH=$ISDP_INSTALL/lib

# C and Linking flags
# -xO1 is Solaris 8 optimization level
export ISDP_C_CC="cc"
export ISDP_C_EXEC="-L /opt/ingr/lib -R /opt/ingr/lib"
export ISDP_C_FLAGS="-Xc -xCC -m32 -KPIC -features=no%conststrings -errfmt -w"
#xport ISDP_C_FLAGS="$ISDP_C_FLAGS '-Ddouble=double __attribute__((aligned(8)))'"

alias cc="/opt/sunstudio12.1/bin/cc '-Ddouble=double __attribute__((aligned(8)))'"

ISDP_C_DEFINES="-DRUN_X -DX11 -DLITTLE_ENDIAN -DSYSV -DSYS5 -DSVR4 -DSUNOS -DSUNOS5 -DSUNOS58"
ISDP_C_DEFINES="$ISDP_C_DEFINES -Di386 -D__i386 -D__i386__ -DINTEL -DUNIX -DINGR"

# Need this for opp/omcpp, redundant for compilers
ISDP_C_DEFINES="$ISDP_C_DEFINES -D__BUILTIN_VA_ARG_INCR -D__STDC__=1"

export ISDP_C_DEFINES

export ISDP_SHAREDLIB_FLAGS="-G -norunpath"

export CPUTYPE=isl

# Tools
export COMPILER=$ISDP_C_CC
export COMPOPT=$ISDP_C_FLAGS
export MKDOPT=$ISDP_C_DEFINES
export MKMKOPT="$ISDP_C_DEFINES -i $ISDP_SOURCE/grnuc/Isl.mkmk"

# ===============================================================================
# Rest of this need to be overridden by product specific stuff
# export EXTARG=$ISDP_TARGET/exnuc34/intel5
# export EXNUC=$ISDP_SOURCE/exnuc

# ---------------------------------------
# for building vds
export ISDP_MAKE_SP=0

export BS=$ISDP_LEGACY/bspmathdp
export UMS=$ISDP_LEGACY/ums
export FORMS=$ISDP_LEGACY/xformsdp/xfi
export EXNUC=$ISDP_LEGACY/exnucdp
export GRNUC=$ISDP_LEGACY/grnucsrc
export MODEL=$ISDP_LEGACY/modelsrc

export VDS=$ISDP_SOURCE/vds
export STRUCT=$ISDP_SOURCE/struct

export VDS_PATH=$VDS

# Slic needs this
export COBCPPOPT="-I$BS/include -I${BS}/include/prototypes -I$EXNUC/include -I$GRNUC/include -I${GRNUC}/src/assoc/include_priv -I$MODEL/include -I${VDS}/include -I${VDS}/vdinclude"
