# Do not alter this line: $Revision: 1.1.54.1 $
#
# fixtoken - re-orders the tokens alphabetically, numbers them,
#	and creates the token symbols file, COMget_name.c.  Because
#	token values are stored in customer dictionaries, they should
#	not be re-numbered unless provisions have been made to update
#	existing dictionaries.  Use add_tokens to add new tokens to
#	the end of the token list (which will not affect existing dictionaries).
#
TOKENFILE=$RISDEVDIR/riscom/internal/ristoken.h
GETNAMEFILE=$RISDEVDIR/riscom/common/comgtnme.c

csplit -s -ftemp $TOKENFILE /#define/
sort temp01 |
awk 'BEGIN{num = 1} /#define/{printf("%s %-30s %d\n",$1,$2,num++)}' |
cat temp00 - > $TOKENFILE
rm temp00 temp01

awk '/#define/{printf"\t\t{%s,\"%s\"},\n",$2,substr($2,9,length($2)-8)}' $TOKENFILE > names.temp
sed -e '/{0,"ZERO"},/r names.temp' -e '/{RIS_TOK/d' $GETNAMEFILE > tokname.temp
mv tokname.temp $GETNAMEFILE
rm names.temp
