#
# HISTORY
#
#   24-Sep-1991 TGM Major overhaul; using new procedure to make 
#                   non-dependency makefiles and the new makemake
#
#   06-Apr-1988 jBk Added arguments for ed script to use on
#                   newmake files and for suffixes to use.
#                   Removed sleep invocations.
#                   Now edit newmake ed scripts to alter EMSNAME
#                   string to desired value.
#   30-Mar-1988 AIC Changed pd to cd and popd to cd - so that
#                   members of our group that do not have those
#                   functions defined can use this utility.
#   ??-???-???? jBk Genesis

suffixes=$1
shift

for path in $*
do
    cd $path
    if [ ! -f makefile ]
    then
        \ls *.[$suffixes] >> spec.m
        ed spec.m < $MODEL/etc/lib/ed.spec.m
        echo performing makemake in $path ...
        $EXTARG/bin/makemake spec.m makefile.m
        sed -f $MODEL/integ/mknodep.sed makefile.m > makefile
    fi
    cd -
done


