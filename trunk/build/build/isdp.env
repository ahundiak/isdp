# Master env file for isdp development

export ISDP_SOURCE=$HOME/source
export ISDP_TARGET=$HOME/target
export ISDP_LEGACY=$HOME/legacy
export ISDP_INSTALL=$HOME/install

# /opt/ingr needs to be symbolicallly linked to ISDP_LEGACY
# /usr/ip32 needs to be linked to ISDP_LEGACY as well
# Manually link for now
export ISDP_OPT_INGR=/opt/ingr

# This is hardcoded into some of the build scripts
export INGRHOME=/opt/ingr

# Try to limit paths to these two directories
export PATH=$PATHX:$ISDP_INSTALL/bin

# Everything need to run isdp will be in here or /usr/lib
export LD_LIBRARY_PATH=$ISDP_INSTALL/lib

# C and Linking flags
# -xO1 is Solaris 8 optimization level
# Why did I remove -g???
export ISDP_C_CC="/opt/sunstudio12.1/bin/cc '-Ddouble=double __attribute__((aligned(8)))'"
export ISDP_C_EXEC="-L /opt/ingr/lib -R /opt/ingr/lib"
export ISDP_C_FLAGS="-Xc -xCC -m32 -KPIC -features=no%conststrings -errfmt -w -g"
#xport ISDP_C_FLAGS="$ISDP_C_FLAGS '-Ddouble=double __attribute__((aligned(8)))'"

alias cc="/opt/sunstudio12.1/bin/cc '-Ddouble=double __attribute__((aligned(8)))'"

alias svnstat="svn stat -u"
alias svnci="svn ci -m ah"
alias svnciu="svn update;svn ci -m ah"
alias svnignore="svn propedit svn:ignore"

alias vd_makelog="vd_make 2>&1 | tee vdmake.log"
alias vd_dloadlog="vd_dload 2>&1 | tee vddload.log"

alias omcppx="/home/impd/source/exnuc/bin/omcpp -l"

ISDP_C_DEFINES="-DRUN_X -DX11 -DLITTLE_ENDIAN -DSYSV -DSYS5 -DSVR4=1 -DSUNOS -DSUNOS5 -DSUNOS58"
ISDP_C_DEFINES="$ISDP_C_DEFINES -Di386 -D__i386 -D__i386__=1 -DINTEL -DUNIX -Dunix -DINGR"
ISDP_C_DEFINES="$ISDP_C_DEFINES -DSunOS=1 -DSunOS_5x=1 -Di86pc=1"

# Need this for opp/omcpp, redundant for compilers
ISDP_C_DEFINES="$ISDP_C_DEFINES -D__BUILTIN_VA_ARG_INCR -D__STDC__=1"

export ISDP_C_DEFINES

export ISDP_SHAREDLIB_FLAGS="-G -norunpath"

export CPUTYPE=isl

# Tools
export CC=$ISDP_C_CC
export COMPILER=$ISDP_C_CC
export COMPOPT=$ISDP_C_FLAGS
export MKDOPT="$ISDP_C_DEFINES"
#xport MKDOPT="-l $ISDP_C_DEFINES"
export MKMKOPT="$ISDP_C_DEFINES -i $ISDP_SOURCE/grnuc/Isl.mkmk"

# Controlled by path
export CPP_COMP=cpp
export XGENMENU=xgenmenu

# ---------------------------------------
# for building vds
export ISDP_MAKE_SP=0

export BS=$ISDP_LEGACY/bspmathdp
export RIS=$ISDP_LEGACY/ris

export UMS=$ISDP_SOURCE/ums
export XFS=$ISDP_SOURCE/fontserver
export HELP=$ISDP_SOURCE/help
export FORMS=$ISDP_SOURCE/xforms/source/xfi
export LIBXC=$ISDP_SOURCE/libxc
export BUILD=$ISDP_SOURCE/build

export NFM=$ISDP_LEGACY/nfm
export NFMDP=$ISDP_LEGACY/nfmdp
export NFM_LIB=$ISDP_LEGACY/pdudp/lib/isl

export PDU=$ISDP_LEGACY/pdu
export PDUDP=$ISDP_LEGACY/pdudp

#xport EXNUC=$ISDP_LEGACY/exnucdp
#xport GRNUC=$ISDP_LEGACY/grnucsrc
#xport MODEL=$ISDP_LEGACY/modelsrc

export EXNUC=$ISDP_SOURCE/exnuc
export GRNUC=$ISDP_SOURCE/grnuc
export MODEL=$ISDP_SOURCE/model

export EXTARG=$ISDP_SOURCE/exnuc
export GRTARG=$ISDP_SOURCE/grnuc
export MDTARG=$ISDP_SOURCE/model

# Some of the grnuc sl files use PLATFORM and some use SOURCE
export PLATFORM=$GRNUC
export SOURCE=$GRNUC
export ISL=y
export GRLIB=$GRNUC
export XINC=$FORMS/include
export OM=$EXNUC/om

# ===============================================
# ISDP Stuff
export VDS=$ISDP_SOURCE/vds
export AIM=$ISDP_SOURCE/aim
export STRUCT=$ISDP_SOURCE/struct
export ROUTE=$ISDP_SOURCE/route
export LOFT=$ISDP_SOURCE/loft

export VDS_PATH=$VDS
export LOCAL=/usr/local

# Slic needs this
export COBCPPOPT="-I$BS/include -I$BS/include/prototypes -I$UMS/include -I$FORMS/include"
export COBCPPOPT="$COBCPPOPT -I$EXNUC/include -I$GRNUC/include -I$GRNUC/src/assoc/include_priv -I$MODEL/include"
export COBCPPOPT="$COBCPPOPT -I$VDS/include -I$VDS/vdinclude"

# For bulding isdp product
export PATH=$PATHX:$EXNUC/bin:$GRNUC/bin:$MODEL/bin:$VDS/etc/bin:/opt/ingr/bin

export DEBUG=yes
export VERBOSE_RULES=1
