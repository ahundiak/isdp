# Do not alter this SPC information: $Revision: 1.21.3.1 $
!include $(RISDEVDIR)\ristools\include\makeenv.nt

all: clean RIS RISDP ORA ORAN DB2 MSF ING INF INFN SYB OTHERS ZIP
orads: clean RIS RISDP ORA OTHERS ZIP
orans: clean RIS RISDP ORAN OTHERS ZIP
db2ds: clean RIS RISDP DB2 OTHERS ZIP
msfds: clean RIS RISDP MSF OTHERS ZIP
ingds: clean RIS RISDP ING OTHERS ZIP
infds: clean RIS RISDP INF OTHERS ZIP
infns: clean RIS RISDP INFN OTHERS ZIP
sybds: clean RIS RISDP SYB OTHERS ZIP

makeit:
	@echo.
	@echo	Starting to create Localization kit

RIS:
	@echo.
	@echo	Copying files
	@echo      for RIS
	copy $(RISDEVDIR)\riscli\setup32\csource\rispack.lyt >NUL
	copy $(RISDEVDIR)\riscli\setup32\csource\rissetup.lyt >NUL
	copy $(RISDEVDIR)\riscli\setup32\csource\locfiles.lyt >NUL
	copy "$(NT_SETUP_DIR)\setup32\disklay\dsklayt2.exe" >NUL
	copy $(SHAMROCKDIR)\shared\shamshr2.lyt >NUL
	copy $(RISDEVDIR)\riscli\setup32\deliv\setup.lst >NUL
	copy $(RISDEVDIR)\riscli\setup32\deliv\setup.exe >NUL
	copy $(RISDEVDIR)\riscli\setup32\deliv\risshare.exe >NUL
	copy $(RISDEVDIR)\riscli\setup32\deliv\msdetstf.dll >NUL
	copy $(RISDEVDIR)\riscli\setup32\deliv\msuilstf.dll >NUL
	copy $(RISDEVDIR)\riscli\setup32\deliv\mscomstf.dll >NUL
	copy $(RISDEVDIR)\riscli\setup32\deliv\msinsstf.dll >NUL
	copy $(RISDEVDIR)\riscli\setup32\deliv\msshlstf.dll >NUL
	copy $(RISDEVDIR)\riscli\setup32\deliv\rissc.dll >NUL
	copy $(RISDEVDIR)\riscli\setup32\deliv\ingrstf.dll >NUL
	copy $(RISDEVDIR)\riscli\setup32\addshar.pl >NUL
	
RISDP:
	@echo      for RISDP
	copy $(RISDEVDIR)\risapp\setup32\bin\nt\risdp.exe>NUL
	copy $(RISDEVDIR)\risapp\setup32\bin\nt\risdp.dll>NUL
	copy $(RISDEVDIR)\risapp\setup32\setup.lst setup.dp>NUL
	copy $(RISDEVDIR)\risapp\setup32\settings.ini>NUL
	copy $(RISDEVDIR)\risapp\setup32\risdp.ws>NUL
	copy $(RISDEVDIR)\risapp\setup32\geninf.cmd>NUL
	copy $(RISDEVDIR)\risapp\setup32\risdp\readme.txt readme.dp>NUL
	copy $(RISDEVDIR)\risapp\setup32\risdp\prod.ini >NUL
	copy $(RISDEVDIR)\risapp\setup32\risdp.lyt >NUL
	copy $(RISDEVDIR)\risapp\setup32\readprod.pl >NUL

ORA:
	@echo      for Oracle
	copy $(RISDEVDIR)\rissrv\setup32\oradir\bin\nt\risds.exe oracle.exe >NUL
	copy $(RISDEVDIR)\rissrv\setup32\oradir\bin\nt\mscuistf.dll oracle.dll >NUL
	copy $(RISDEVDIR)\rissrv\setup32\oradir\setup.lst risorads.lst >NUL
	copy $(RISDEVDIR)\rissrv\setup32\oradir\settings.ini risorads.set >NUL
	copy $(RISDEVDIR)\rissrv\setup32\oradir\risorads.lyt >NUL
	
SYB:
	@echo      for Sybase
	copy $(RISDEVDIR)\rissrv\setup32\sybdir\bin\nt\risds.exe sybase.exe >NUL
	copy $(RISDEVDIR)\rissrv\setup32\sybdir\bin\nt\mscuistf.dll sybase.dll >NUL
	copy $(RISDEVDIR)\rissrv\setup32\sybdir\setup.lst rissybds.lst >NUL
	copy $(RISDEVDIR)\rissrv\setup32\sybdir\settings.ini rissybds.set >NUL
	copy $(RISDEVDIR)\rissrv\setup32\sybdir\rissybds.lyt >NUL
	
ORAN:
	@echo      for Oracle Net
	copy $(RISDEVDIR)\rissrv\setup32\ornetdir\bin\nt\risds.exe oran.exe >NUL
	copy $(RISDEVDIR)\rissrv\setup32\ornetdir\bin\nt\mscuistf.dll oran.dll >NUL
	copy $(RISDEVDIR)\rissrv\setup32\ornetdir\setup.lst risorans.lst >NUL
	copy $(RISDEVDIR)\rissrv\setup32\ornetdir\settings.ini risorans.set >NUL
	copy $(RISDEVDIR)\rissrv\setup32\ornetdir\risorans.lyt >NUL

DB2:
	@echo      for DB2
	copy $(RISDEVDIR)\rissrv\setup32\db2dir\bin\nt\risds.exe db2.exe >NUL
	copy $(RISDEVDIR)\rissrv\setup32\db2dir\bin\nt\mscuistf.dll db2.dll >NUL
	copy $(RISDEVDIR)\rissrv\setup32\db2dir\setup.lst risdb2ds.lst >NUL
	copy $(RISDEVDIR)\rissrv\setup32\db2dir\settings.ini risdb2ds.set >NUL
	copy $(RISDEVDIR)\rissrv\setup32\db2dir\risdb2ds.lyt >NUL

MSF:
	@echo      for MS SQL
	copy $(RISDEVDIR)\rissrv\setup32\msfdir\bin\nt\risds.exe msf.exe >NUL
	copy $(RISDEVDIR)\rissrv\setup32\msfdir\bin\nt\mscuistf.dll msf.dll >NUL
	copy $(RISDEVDIR)\rissrv\setup32\msfdir\setup.lst rismsfds.lst >NUL
	copy $(RISDEVDIR)\rissrv\setup32\msfdir\settings.ini rismsfds.set >NUL
	copy $(RISDEVDIR)\rissrv\setup32\msfdir\rismsfds.lyt >NUL

ING:
	@echo      for INGRES
	copy $(RISDEVDIR)\rissrv\setup32\igsdir\bin\nt\risds.exe ing.exe >NUL
	copy $(RISDEVDIR)\rissrv\setup32\igsdir\bin\nt\mscuistf.dll ing.dll >NUL
	copy $(RISDEVDIR)\rissrv\setup32\igsdir\setup.lst risingds.lst >NUL
	copy $(RISDEVDIR)\rissrv\setup32\igsdir\settings.ini risingds.set >NUL
	copy $(RISDEVDIR)\rissrv\setup32\igsdir\risingds.lyt >NUL

INF:
	@echo      for INFORMIX
	copy $(RISDEVDIR)\rissrv\setup32\infdir\bin\nt\risds.exe inf.exe >NUL
	copy $(RISDEVDIR)\rissrv\setup32\infdir\bin\nt\mscuistf.dll inf.dll >NUL
	copy $(RISDEVDIR)\rissrv\setup32\infdir\setup.lst risinfds.lst >NUL
	copy $(RISDEVDIR)\rissrv\setup32\infdir\settings.ini risinfds.set >NUL
	copy $(RISDEVDIR)\rissrv\setup32\infdir\risinfds.lyt >NUL
	
INFN:
	@echo      for INFORMIX NET
	copy $(RISDEVDIR)\rissrv\setup32\ifnetdir\bin\nt\risds.exe infn.exe >NUL
	copy $(RISDEVDIR)\rissrv\setup32\ifnetdir\bin\nt\mscuistf.dll infn.dll >NUL
	copy $(RISDEVDIR)\rissrv\setup32\ifnetdir\setup.lst risinfns.lst >NUL
	copy $(RISDEVDIR)\rissrv\setup32\ifnetdir\settings.ini risinfns.set >NUL
	copy $(RISDEVDIR)\rissrv\setup32\ifnetdir\risinfns.lyt >NUL

OTHERS:
	@echo.
	@echo	Creating setdef.bat
	@echo @echo off >setdef.bat
	@echo set _RISVER=$(RIS_MAJ).$(RIS_MIN)>>setdef.bat
	@echo set _RIS_IN=ris>>setdef.bat
	@echo set _RISDP_IN=risdp>>setdef.bat
	@echo set _RIS_ORA_IN=risorads>>setdef.bat
	@echo set _RIS_ORAN_IN=risorans>>setdef.bat
	@echo set _RIS_INGRES_IN=risingds>>setdef.bat
	@echo set _RIS_DB2_IN=risdb2ds>>setdef.bat
	@echo set _RIS_MSSQL_IN=rismsf>>setdef.bat
	@echo set _RIS_INF_IN=risinfds>>setdef.bat
	@echo set _RIS_INFN_IN=risinfns>>setdef.bat
	@echo set _RIS_SYB_IN=rissybds>>setdef.bat

	@echo.
	@echo	Creating risdplan.lyt
	@echo config\!language!\help\risdp.hhh,ANYDISK,COMPRESS,VERSION,READONLY,SOURCE,RENAME=ris!maj_min!\config\!language!\help\risutl.hlp,OVERWRITE=ALWAYS,!BACKUP,DECOMPRESS,VITAL,SECTION=Appfiles,REFKEY=,!SYSTEM,!SHARED,. >risdplan.lyt
	@echo config\!language!\help\risdp.hhh,ANYDISK,COMPRESS,VERSION,READONLY,SOURCE,RENAME=ris!maj_min!\config\!language!\help\risutl.ind,OVERWRITE=ALWAYS,!BACKUP,DECOMPRESS,VITAL,SECTION=Appfiles,REFKEY=,!SYSTEM,!SHARED,. >risdplan.lyt
	@echo config\!language!\help\rislist.hhh,ANYDISK,COMPRESS,VERSION,READONLY,SOURCE,RENAME=ris!maj_min!\config\!language!\help\rislist.hlp,OVERWRITE=ALWAYS,!BACKUP,DECOMPRESS,VITAL,SECTION=Appfiles,REFKEY=,!SYSTEM,!SHARED,. >risdplan.lyt

ZIP:
	@echo.
	@echo	Zipping files
	@pkzip rislocal @2bzipped.txt


	@echo.
	@echo	Creating rislocal.exe
	@zip2exe rislocal

	@echo.
	@echo	Done



clean:
	@echo.
	@echo	Deleting files
	@if exist rislocal.zip del /q rislocal.zip
	@if exist rislocal.exe del /q rislocal.exe
	@echo      for RIS
	@if exist rispack.lyt del rispack.lyt >NUL
	@if exist setdef.bat del setdef.bat >NUL
	@if exist rissetup.lyt del rissetup.lyt >NUL
	@if exist locfiles.lyt del locfiles.lyt >NUL
	@if exist dsklayt2.exe del dsklayt2.exe >NUL
	@if exist shamshr2.lyt del shamshr2.lyt >NUL
	@if exist setup.lst del setup.lst >NUL
	@if exist setup.exe del setup.exe >NUL
	@if exist risshare.exe del risshare.exe >NUL
	@if exist msdetstf.dll del msdetstf.dll >NUL
	@if exist msuilstf.dll del msuilstf.dll >NUL
	@if exist mscomstf.dll del mscomstf.dll >NUL
	@if exist msinsstf.dll del msinsstf.dll >NUL
	@if exist msshlstf.dll del msshlstf.dll >NUL
	@if exist rissc.dll del rissc.dll >NUL
	@if exist ingrstf.dll del ingrstf.dll >NUL
	@if exist addshar.pl del addshar.pl >NUL

	@echo      for RISDP
	@if exist risdplan.lyt del risdplan.lyt >NUL
	@if exist risdp.exe del risdp.exe>NUL
	@if exist risdp.dll del risdp.dll>NUL
	@if exist settings.ini del settings.ini>NUL
	@if exist risdp.ws del risdp.ws>NUL
	@if exist setup.dp del setup.dp>NUL
	@if exist geninf.cmd del geninf.cmd>NUL
	@if exist readme.dp del readme.dp >NUL
	@if exist prod.ini del prod.ini >NUL
	@if exist risdp.lyt del risdp.lyt >NUL
	@if exist readprod.pl del readprod.pl >NUL

	@echo      for Oracle
	@if exist oracle.exe del oracle.exe >NUL
	@if exist oracle.dll del oracle.dll >NUL
	@if exist risorads.lst del risorads.lst >NUL
	@if exist risorads.set del risorads.set >NUL
	@if exist risorads.lyt del risorads.lyt >NUL

	@echo      for Sybase
	@if exist sybase.exe del sybase.exe >NUL
	@if exist sybase.dll del sybase.dll >NUL
	@if exist rissybds.lst del rissybds.lst >NUL
	@if exist rissybds.set del rissybds.set >NUL
	@if exist rissybds.lyt del rissybds.lyt >NUL

	@echo      for Oracle Net
	@if exist oran.exe del oran.exe
	@if exist oran.dll del oran.dll
	@if exist risorans.lst del risorans.lst
	@if exist risorans.set del risorans.set
	@if exist risorans.lyt del risorans.lyt

	@echo      for DB2
	@if exist db2.exe del db2.exe
	@if exist db2.dll del db2.dll
	@if exist risdb2ds.lst del risdb2ds.lst
	@if exist risdb2ds.set del risdb2ds.set
	@if exist risdb2ds.lyt del risdb2ds.lyt

	@echo      for MS SQL
	@if exist msf.exe del msf.exe
	@if exist msf.dll del msf.dll
	@if exist rismsfds.lst del rismsfds.lst
	@if exist rismsfds.set del rismsfds.set
	@if exist rismsfds.lyt del rismsfds.lyt
	     
	@echo      for INGRES
	@if exist ing.exe del ing.exe
	@if exist ing.dll del ing.dll
	@if exist risingds.lst del risingds.lst
	@if exist risingds.set del risingds.set
	@if exist risingds.lyt del risingds.lyt
	
	@echo      for INFORMIX
	@if exist inf.exe del inf.exe
	@if exist inf.dll del inf.dll
	@if exist risinfds.lst del risinfds.lst
	@if exist risinfds.set del risinfds.set
	@if exist risinfds.lyt del risinfds.lyt 

	@echo      for INFORMIX NET
	@if exist infn.exe del infn.exe
	@if exist infn.dll del infn.dll
	@if exist risinfns.lst del risinfns.lst
	@if exist risinfns.set del risinfns.set
	@if exist risinfns.lyt del risinfns.lyt
