<?xml version="1.0" encoding="UTF-8"?>

<!--
    Document   : OMObjSpace.S.xml
    Created on : December 2, 2010, 7:49 AM
    Author     : impd
    Description:
        Purpose of the document follows.
-->

<root>
<om_classes>
  <om_class name="OMObjSpace" extends="Root" version="4:0">
    <instance_data>
      <attr type="string"           name="CreTimeDate"  size="[16]" comment="creation time and date" />
      <attr type="string"           name="TimeDate"     size="[16]" comment="last write date and time" />
      <attr type="OM_p_OS_FILEHDR"  name="p_filehdr"                comment="pointer to file header" />
      <attr type="OM_S_OSD"         name="OSD"                      comment="OS descriptor part of OSO" />

      <attr type="int"              name="OS_HoleCount"             comment = "count of holes in file" />
      <vla  type="OM_S_OSHOLE"      name="OS_holes"     size="[]"   comment="reverse ordered VLA of holes in filed OS (in file)" />

      <attr type="int"              name="FirstISO"                 comment="index first empty iso_d" />
      <vla  type="struct ISOd_data" name="iso_d"        size="[]"   comment="default size, ext is a" />

      <vla  type="OM_S_GROUP_EXTENT" name="freeoids"    size="[0]"  comment="oids belonging to no group" />

      <channel card="one_to_many" initial="10" increment="20" types="OMOSCO" name="to_OSCOs" />

      <channel card="one_to_many" order="abs_ordered" initial="10" increment="20" types="OMCluster" name="to_ClusDscs" />

      <channel card="one_to_many" initial="1" increment="20" types="OMGroup, OMSupGroup, OMTag, OMTagCon" name="to_GrpDscs" />

      <channel card="one_to_many" initial="1" increment="20" name="to_NamObjDir" />
    </instance_data>
    <messages>
      <message op="override" name="delete" />

      <message name="change_name" >
        <param type="char *"          name="name" />
        <param type="OM_e_OVRWRT_FLG" name="overwrite" />
      </message>

      <message name="pass" >
        <param type="OM_S_CLASSLIST *" name="classlist" />
				<param type="OM_E_WRT_FLAG"    name="wrt_flag" />
				<param type="OM_S_MESSAGE *"   name="msg" />
      </message>

      <message name="get_status" >
        <param type="OM_p_OSSTATUS" name="p_stat" />
      </message>

      <message name="init_OMObjSpace" />
      <message name="execute" />
      <message name="cleanup" />

      <message name="translate_group_name" >
        <param type="char *"     name="name" />
        <param type="OM_p_OBJID" name="p_oid" />
      </message>

      <message name="dissolve_ISOs" />
      <message name="resolve_ISOs" />
      <message name="fixup_for_write" />
      <message name="fix_osd" />

      <message name="find_iso" >
        <param type="OMuword"    name="t_osn" />
        <param type="OM_p_OBJID" name="p_oid" />
      </message>

      <message name="get_iso" >
        <param type="OMuword"    name="t_osn" />
				<param type="OM_p_OBJID" name="p_oid" />
      </message>

      <message name="make_iso_entry" >
        <param type="OM_S_OBJID" name="iso_oid" />
				<param type="OMuword"    name="tar_osn" />
      </message>

      <message name="print_isodir" >
        <param type="int" name="flg" />
      </message>
      <message name="remove_iso" >
        <param type="OM_S_OBJID" name="i_oid" />
      </message>

      <message name="add_class" >
        <param type="char *"  name="name" />
				<param type="OMuword" name="classid" />
      </message>

      <message name="update_isodir" >
        <param type="char *" name="old_int_name" />
        <param type="char *" name="new_int_name" />
      </message>
    </messages>
  </om_class>
</om_classes>
</root>
