/************************************************************************/
/*                                                                      */
/*      Program: projpt.u         Macro: gr$project_pnt_on_element	*/
/*                                                                      */
/*      Defined in: grmacros.h						*/	
/*                                                                      */
/*      Comments: _____________________________________________________ */
/*									*/
/*                                                                      */
/************************************************************************/
#include "stdio.h"
#include "ciminimum.h"
#include "cimacros.h"

#include "DIdef.h"
#include "grmacros.h"

extern GRproject_point_on_element();

 main()
 {	

    struct GRid     object;
    struct GRmd_env env;
    IGRdouble  	    point[3],proj_point[3];
    IGRdouble	    u,v;
    IGRlong	    msg1;

    ci$locate( obj   = &object.objid,
               osnum = &object.osnum,
	       md_env = &env,
               prompt= "Identify object");

    ci$get(prompt="Enter point to project",
	   point = point);

    gr$project_pnt_on_element(
	    msg = &msg1,
	    md_env = &env,
	    object_id  = &object,
	    point = point,
	    proj_pt = proj_point,
	    u_parm  = &u,
	    v_parm  = &v);

    write(proj_point);
    write(u);
    write(v);

    begincmd("wt = 3");
    endcmd();

    begincmd("place point");
	ci$put( point = point );
	ci$put( point = proj_point );
	ci$put( response = TERMINATE );
    endcmd();


    begincmd("wt = 0");
    endcmd();

}
