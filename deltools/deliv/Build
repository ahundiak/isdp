#
#	Build file for deltools
#
#		If there is nothing between all and the next cpu type SRE
#		defaults to build c100, c300, and c400.
#
setup
	all
		cd $SRC_DIR
		find deltools -print | cpio -pmudvl ../SRC
	c100
		cd $SRC_DIR
		find deltools -print | cpio -pmudvl ../SRC
	c300
		cd $SRC_DIR
		find deltools -print | cpio -pmudvl ../SRC
	c400
		cd $SRC_DIR
		find deltools -print | cpio -pmudvl ../SRC
	c400
		cd $SRC_DIR
		find deltools -print | cpio -pmudvl ../SRC
	ISL
		cd $SRC_DIR
		find deltools -print | cpio -pmudvl ../ISL

depends
	all
		cd $HOME/SRC/deltools/src
		make -f Makefile.clip -e CC="acc" depend
	c100
		cd $HOME/SRC/deltools/src
		make -f Makefile.clip -e CC="acc" dependc1
	c300
		cd $HOME/SRC/deltools/src
		make -f Makefile.clip -e CC="acc" dependc3
	c400
		cd $HOME/SRC/deltools/src
		make -f Makefile.clip -e CC="acc" dependc4
	ISL
		cd $HOME/ISL/deltools/src
		make -f Makefile.ssl -e depend

make
	all
		cd $HOME/SRC/deltools/src
		make -f Makefile.clip -e CC="acc" CP="ln -f" all strip
	c100
		cd $HOME/SRC/deltools/src
		make -f Makefile.clip -e  CC="acc" CP="ln -f" c100 stripc1
	c300
		cd $HOME/SRC/deltools/src
		make -f Makefile.clip -e CC="acc" CP="ln -f" c300 stripc3
	c400
		cd $HOME/SRC/deltools/src
		make -f Makefile.clip -e CC="acc" CP="ln -f" c400 stripc4
	ISL
		cd $HOME/ISL/deltools/src
		make -f Makefile.isl -e CP="ln -f" all strip

package
	all
		[ ! -d $PROD_DIR/deltools ] && mkdir -p ${PROD_DIR}/deltools
		cd $HOME/SRC/deltools/src
		make -f Makefile.clip -e package CP="ln -f" WSDIR=$PROD_DIR/deltools
	c100
		cd $HOME/SRC/deltools/src
		make -f Makefile.clip -e packagec1 CP="ln -f" WSDIR=$PROD_DIR/deltools
	c300
		cd $HOME/SRC/deltools/src
		make -f Makefile.clip -e packagec3 CP="ln -f" WSDIR=$PROD_DIR/deltools
	c400
		cd $HOME/SRC/deltools/src
		make -f Makefile.clip -e packagec4 CP="ln -f" WSDIR=$PROD_DIR/deltools
	ISL
		[ ! -d $PROD_DIR/deltools.isl ] && mkdir -p ${PROD_DIR}/deltools.isl
		cd $HOME/ISL/deltools/src
		make -f Makefile.isl -e package CP="ln -f" WSDIR=$PROD_DIR/deltools.isl

archive
	#None

deliver		
	#None
