# Do not alter this SPC information: $Revision: 1.2.56.1 $
!include $(RISDEVDIR)\risapp\build\defines.nt

UMS_MSG_DIR=$(RISDEVDIR)\risapp\config\english\messages
UMS_TXT_DIR=$(RISDEVDIR)\risapp\config\english\messages\src

fast: version source resource lib bin

world: cleanworld subdirs version prototypes source resource lib bin

prototypes:
	@echo.
	@echo 	Making app prototypes
	@cd $(RISDEVDIR)\risapp\app
	@mk prototypes

	@echo.
	@echo 	Making intrface prototypes
	@cd $(RISDEVDIR)\risapp\intrface
	@mk prototypes

	@echo.
	@echo 	Making cpp prototypes
	@cd $(RISDEVDIR)\risapp\cpp
	@mk prototypes

	@echo.
	@echo 	Making dload prototypes
	@cd $(RISDEVDIR)\risapp\dload
	@mk prototypes

subdirs:
	@echo.
	@echo 	Creating app subdirectories
	@-mkdir $(RISDEVDIR)\risapp\app\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risapp\app\$(OBJDIR) 2>NUL

	@echo.
	@echo 	Creating intrface subdirectories
	@-mkdir $(RISDEVDIR)\risapp\intrface\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risapp\intrface\$(OBJDIR) 2>NUL

	@echo.
	@echo 	Creating cpp subdirectories
	@-mkdir $(RISDEVDIR)\risapp\cpp\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risapp\cpp\$(OBJDIR) 2>NUL
	
	@echo.
	@echo 	Creating dload subdirectories
	@-mkdir $(RISDEVDIR)\risapp\dload\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risapp\dload\$(OBJDIR) 2>NUL
	
	@echo.
	@echo 	Creating resource subdirectories
	@-mkdir $(RISDEVDIR)\risapp\resource\$(OBJDIR) 2>NUL
	
	@echo.
	@echo 	Creating lib subdirectories
	@-mkdir $(RISDEVDIR)\risapp\lib\$(LIBDIR) 2>NUL
	
	@echo.
	@echo 	Creating bin subdirectories
	@-mkdir $(RISDEVDIR)\risapp\bin\$(BINDIR) 2>NUL

	@echo.
	@echo 	Creating setup32 subdirectories
	@-mkdir $(RISDEVDIR)\risapp\setup32\$(BINDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risapp\setup32\bin\$(BINDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risapp\setup32\csource\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risapp\setup32\bldcui\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risapp\setup32\removent\$(OBJDIR) 2>NUL

version:
	@echo.
	@echo Making $(RISDEVDIR)\riscom\internal\risver.h
	@cd $(RISDEVDIR)\riscom\build
	@$(RISDEVDIR)\riscom\build\makevers
	@cd $(RISDEVDIR)\risapp\build

source:
	@echo.
	@echo 	Making app
	@cd $(RISDEVDIR)\risapp\app
	@mk

	@echo.
	@echo 	Making intrface
	@cd $(RISDEVDIR)\risapp\intrface
	@mk

	@echo.
	@echo 	Making cpp
	@cd $(RISDEVDIR)\risapp\cpp
	@mk

	@echo.
	@echo 	Making dload
	@cd $(RISDEVDIR)\risapp\dload
	@mk

resource:
	@echo.
	@echo 	Making resource
	@cd $(RISDEVDIR)\risapp\resource
	@mk

lib:
	@echo.
	@echo 	Making lib
	@cd $(RISDEVDIR)\risapp\lib
	@mk

bin:
	@echo.
	@echo 	Making bin
	@cd $(RISDEVDIR)\risapp\bin
	@mk

setup:
	@echo.
	@echo 	Making setup32
	@cd $(RISDEVDIR)\risapp\setup32
	@mk

cleanworld: cleanobjdir cleanmakeout cleanresource cleanlib cleanbin

cleanobjdir:
	@echo.
	@echo 	Cleaning object directories
	@-del/q $(RISDEVDIR)\risapp\app\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risapp\intrface\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risapp\cpp\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risapp\dload\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risapp\setup32\csource\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risapp\setup32\bldcui\$(OBJDIR)\* 2>NUL

cleanmakeout:
	@echo.
	@echo 	Cleaning makeout
	@-del/q $(RISDEVDIR)\risapp\app\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risapp\intrface\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risapp\cpp\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risapp\dload\makeout 2>NUL

cleanprototypes:
	@echo.
	@echo 	Cleaning prototypes
	@-del/q $(RISDEVDIR)\risapp\app\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risapp\intrface\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risapp\cpp\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risapp\dload\prt\* 2>NUL

cleanlib:
	@echo.
	@echo 	Cleaning lib
	@-del/q $(RISDEVDIR)\risapp\lib\$(LIBDIR)\* 2>NUL

cleanresource:
	@echo.
	@echo 	Cleaning resource
	@-del/q $(RISDEVDIR)\risapp\resource\$(OBJDIR)\* 2>NUL

cleanbin:
	@echo.
	@echo 	Cleaning bin
	@-del/q $(RISDEVDIR)\risapp\bin\$(BINDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risapp\setup32\bin\$(BINDIR)\* 2>NUL

backuplist backlist:
	@bckup.bat -l

backupzip backzip:
	@bckup.bat -z

backuptree backtree:
	@bckup.bat -t
