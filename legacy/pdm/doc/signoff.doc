INTERGRAPH CORPORATION				INTER-OFFICE MEMO


INTERGRAPH SOFTWARE SOLUTIONS
MECHANICAL DIVISION

---------------------------------------------------------------------


TO:		Distribution

FROM:		Mary Leath

SUBJECT:	Signoff Workflow Updates

DATE:		August 25, 1994


--------------------------------------------------------------------


A sample signoff workflow has been created and tested which will be
delivered in version 3.1 I/PDM.  The workflow was developed to require 
three (3) signoff users after the designer transitions the part.  If 
any of the three disapproves the part, the part is rejected and returns 
to the designer for further development.  If all three of the signoff 
users concur that the part is acceptable, then the part is transitioned.  
The member of the manager class then has the option to reject or release 
the part.

The signoff users cannot checkout a file.  They have only read access
since they should only be viewing the file.  

Listed below are the steps in loading the workflow and adding users.

	o  LOAD WORKFLOW

	   -  Move the file signoff.wf to the nfmadmin account

	   -  Log into the nfmadmin account

	   -  Key in:  /usr/ip32/nfm/bin/Nfmwff
 
	      This statement will bring up the workflow generator
	      software.  Loading of workflows has been removed from the
	      Nfmalpha interface.

	   -  Login form will appear.
 
		Key in an administror username/password.
		Key in the environment name
		Check off form

	   -  Select "Workflow" from the menu_panel

	   -  Select "Load Workflow" from the menu_panel

	   -  Load workflow form will appear

		Key in the full path and filename 
		  Ex:  /usr/nfmadmin/signoff.wf
		Check off form (workflow should be loading)

	   -  Exit out of workflow generator.

	
	o  ADD USER CLASSES    
	     

	   -  Key in: /usr/ip32/nfm/bin/Nfmalpha -A
	 
	      This will bring up the I/NFM alpha interface

	   -  Select the server by using the arrow keys
	      Once the server is highlighted, press the "enter"
	      key which will underline the server, then press the
	      "PF1" key which will accept the selection

	   -  Select the environment by using the arrow keys.
	      Once the environment is highlighted, press the "enter"
	      key which will underline the environment, then press the
	      "PF1" key which will accept the selection.

           -  Key in an administrator (nfmadmin) username/password
	      and check off the form.

	   -  Select "Administrator"

	   -  Select "User"

           -  Select "Add"

	   -  Key in the following information:

                User Name:
		Password:   (Must be present due to bug in I/NFM)
		Description:
		User Group:
		Mail Address:
		Application:
	
	      Press the "PF1" key to accept input
	      Execute the "Add" for each user that is being added to
	      include the signoff users.


	o  DEFINE ACL, ADD CLASS USERS, and ADD SIGNOFF USERS

	    Define ACL

               -  Select "Workflow"

	       -  Select "ACLS"

	       -  Select "Define ACL"

	       -  Highlight the workflow (PDM_SIGN_WORKFLOW is using the
	          file signoff.wf). Press the "Enter" key which will under-
	          line the workflow, and then press the "PF1" key which will
	          accept and process the selection.

	       -  Key in the ACL name (user definable)  I used PDM_signoff_acl.
	          Press "PF1" to execute


	     Add Class users

		-  Select "Add_Class_Users"

		-  A list of users will be displayed.  Highlight the user
		   that is to be added to the "manager" class, then press
		   the "enter" key.  Press the "PF1" key to execute.

		-  Highlight the user(s) that will be added to the "designer"
		   class, press the "enter" key, and then press the "PF1"
	           key to execute.

                   NOTE:  Multiple selection of users is valid. This can be
		          acommplished by higlighting the user and pressing
			  the "enter" key.  After all selections have been
			  made, press the "PF1" key.

           
	    Add Signoff Users

		-  Select "Add_Signoff_Users"

		-  Select the PDM_SIGN_WORKFLOW by highlighting, press
		   the "Enter" key and then press the "PF1" key.

		-  Select the ACL by highlighting, press the "enter" 
		   key and then press the "PF1" key

		-  A list of users will be displayed.  Select the users
		   by highlighting, press the "enter" key

		-  Statement will be display asking if the user selected
		   is to have "override" priviles.  This means that he
		   has the power to promote the part no matter what the
		   other sign off users response.  Select "No" by
		   highlighting, press "enter" key, and then press the
		   "PF1" key.

		   Repeat for each sign off user.         


**************************************************************************

   IMPORTANT!!!!!!!


It will be necessary to access the 'nfmcommands' table via RIS to update
a row in the commands table before signoff's can be accomplished using
the example workflow file.  The below is a workaround for a know NFM problem
when loading workflows using the 'Nfmwff' executable.


	1.  Log into the 'nfmadmin' unix account
	2.  Execute the following:

               /usr/ip32/ris/risucu/bin/ris

            This will bring back the ris> prompt

	3.  At the ris> prompt, key in:

	      default schema <schema_name.schema_password>;

                          where schema_name is the name given when
                                initializing NFM
	
	4.  At the ris> prompt, key in:

		update nfmcommands set n_application='PDM' where
                    n_commandname='PDMApprove Signoff';

                This will update the row properly in the nfmcommands table.

	5.  To verify that the row was updated correctly, key in:
         
             Select * from nfmcommands where
		n_commandname='PDMApprove Signoff';

              This should display 'PDM' in the n_application attribute.

	6.  To exit out of ris, key in:  quit

  
         
	    You are now ready to proceed.

******************************************************************************
            		

	
	o  SIGNOFF PROCESS:

	   -  Key in /usr/ip32/nfm/bin/Nfmalpha -A

	   -  Select server and environment
  
	   -  Log in as a signoff user
	  	
	   -  Select "Item"

	   -  Select "Workflow"

           -  Select "Signoff"

           -  Select catalog from the list

	   -  Select part from the list

           -  Key in comment in comment section.  Press "PF1" key to
	      accept	

	   -  The last of the three signoff users can then execute the
	      Make_Trans command in I/NFM or can do so in I/PDM by 
	      executing the Move to Next State
