                           I/NFM 3.0 SCHEMA
                           ----------------
                            March 24, 1992
 
1.  nfmaccess
 
This table is a link table between a workflow user class and a transition.
An entry in this table denotes that a certain user class has permission to
perform a particular transition.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_classno        integer       Index into the nfmclasses table.
   n_transitionno   integer       Index into the nfmtransitions table.
 
   unique index i_access on nfmaccess (n_classno, n_transitionno) 
   index i_traccess on nfmaccess (n_transitionno) 
 
2.  nfmacls
 
This table is used to track  the different access control lists (ACLs) that
can be created for  each  workflow.    ACLs  are used to associate specific
users with a class for a given workflow.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_aclno          integer       Unique table index.
   n_aclname        char(20)      Name assigned to the access control list.
   n_workflowno     integer       Index   into    the   nfmworkflow   table
                                  identifying  which   workflow   this  ACL
                                  belongs.
   n_complete       char(1)       "Y" if there is  a user defined for every
                                  user   class   in   the   ACL   (via  the
                                  nfmaclusers table); else, "N".
   n_projectno      integer       Index into the  nfmprojects  table of the
                                  project this  ACL  is  defined for. (Only
                                  used if this is an ITEM ACL).
 
   unique index i_aclno on nfmacls (n_aclno)
   unique index i_aclname on nfmacls (n_aclname)
 
3.  nfmaclusers
 
This table is used to track the  user's assignment to a class for an access
control list within a  defined  workflow.  An  entry denotes that a certain
user is assigned to a particular class within an ACL.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_aclno          integer       Index into the  nfmacls table identifying
                                  which ACL  this  user  should be assigned
                                  for the given class.
   n_classno        integer       Index   into    the    nfmclasses   table
                                  identifying  which  class  this  user  is
                                  assigned in the given ACL.
   n_userno         integer       Index into the nfmusers table identifying
                                  which user is being assigned.
 
   unique index i_aclclass on nfmaclusers (n_aclno, n_classno, n_userno)
 
4.  nfmactivity
 
This table is an activity  log  for  all  the  events that can occur as the
result of a transition.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_username       char(14)      Identifies   which    user   caused   the
                                  activity.
   n_projectname    char(20)      Identifies which project  was involved in
                                  the activity.
   n_catalogname    char(20)      Identifies which catalog  was involved in
                                  the activity.
   n_itemname       char(60)      Identifies  the  item   involved  in  the
                                  activity.
   n_itemrev        char(60)      Identifies  the  revision   of  the  item
                                  involved in the activity.
   n_date           timestamp     The date/time the activity occurred.
   n_commandname    char(100)     Identifies which command was invoked.
   n_transitionname char(80)      Identifies which transition was attempted
                                  by the activity.
   n_oldstatename   char(40)      Identifies the state of the item prior to
                                  the attempted transition.
   n_newstatename   char(40)      Identifies the  state  of  the item after
                                  the attempted transition.
   n_successfail    integer       Error number returned from the transition
                                  process. "0" if successful.
   n_failreason     char(80)      If the activity  failed, an identifier to
                                  explain why.
   n_workflowname   char(20)      Identifies which workflow was involved in
                                  the activity.
   n_aclname        char(20)      Identifies which Access  Control List was
                                  involved in the activity.
 
5.  nfmarchives
 
This table is used to store  and  manage information on all of the archive,
backup, and restore processes that are performed through I/NFM.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_archiveno      integer       Unique table index.
   n_label          char(6)       Associated storage area label.
   n_saveset        char(20)      Unique identifier within a label.
   n_sano           integer       Index  into   the   nfmstoragearea  table
                                  identifying where the archive is stored.
   n_archivedate    timestamp     Date/time the archive took place.
   n_novol          integer       Number of volumes in the archive.
   n_archivecopies  integer       Number of copies made of the archive.
   n_archivesize    integer       Size of the  archive  in  blocks or bytes
                                  depending on how the archive was created.
   n_archivemethod  char(1)       "I" = cpio format;
                                  "S"  =   ANSII   format   (currently  not
                                  supported).
   n_expirationdate timestamp     The date/time  that  this  archive should
                                  expire. (Currently not used.)
 
   unique index i_archno on nfmarchives (n_archiveno)
   unique index i_archlabel on nfmarchives (n_label, n_saveset, n_sano)
 
6.  nfmattributes
 
This table is used  by  the  attribute  subsystem  to manage information on
attributes (columns) in tables created in the I/NFM system.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_attrno         integer       Number of attribute.
   n_tableno        integer       Index  into  nfmtables  identifying which
                                  table the attribute belongs.
   n_name           char(20)      Name of attribute (table column).
   n_synonym        char(40)      Synonym to be used for attribute.
   n_datatype       char(15)      Data type of attribute.
   n_seqno          integer       Sequencing  number  for  order  that this
                                  attribute   should   appear   (used   for
                                  listings).
   n_read           char(1)       "Y" if  read  access  is  allowed  on the
                                  attribute; else "N".
   n_write          char(1)       "Y" if  write  access  is  allowed on the
                                  attribute; else  "N".  (Used  during "Add
                                  Item".)
   n_update         char(1)       "Y" if update  access  is  allowed on the
                                  attribute; else "N". (Used during "Change
                                  Item" and "Change File Attributes".)
   n_delete         char(1)       "Y" if  attribute  may  be  deleted; else
                                  "N". (RIS  currently  does  not allow the
                                  deletion  of  attributes  in  an existing
                                  catalog)
   n_null           char(1)       "Y" if null  values  are  allowed for the
                                  attribute; else "N".
   n_checkin        char(1)       "Y"  if  the  attribute  may  be  updated
                                  during checkin; else "N". (The user is no
                                  longer prompted  for  values during Check
                                  In from the I/NFM interfaces)
   n_checkout       char(1)       "Y"  if  the  attribute  may  be  updated
                                  during checkout; else  "N".  (The user is
                                  no  longer  prompted  for  values  during
                                  Check Out from the I/NFM interfaces)
   n_application    char(3)       Identifier for  application  that created
                                  the attribute. Also  used to denote user-
                                  defined attributes.
   n_lattrno        integer       If not 0, an index into the table pointed
                                  to by n_jointable  identifying the select
                                  attribute (the attribute to be displayed)
                                  needed for the join condition.
   n_jointable      char(1)       Identifies  the   table   to  search  for
                                  n_lattrno   and   n_joinattrno   ("A"   =
                                  nfmattributes; "S" = nfmsysattributes).
 
   n_joinattrno     integer       Index  into  the   table  pointed  to  by
                                  n_jointable  identifying   the  attribute
                                  name to  be  used  to  complete  the join
                                  condition.
 
   unique index i_attrno on nfmattributes (n_attrno)
   index i_attrtabno on nfmattributes (n tableno)
   index i_attrseq on nfmattributes (n_seqno, n_tableno)
 
7.  nfmcatalogaclmap
 
This table is used  to  track  the  access  control lists (ACLs) allowed on
items in the indicated  catalog.  There  may  be  several  ACLs mapped to a
single catalog.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_mapno          integer       Unique table index.
   n_catalogno      integer       Index   into    the   nfmcatalogs   table
                                  identifying the catalog being mapped.
   n_aclno          integer       Index into the  nfmacls table identifying
                                  an Access  Control  List  allowed for the
                                  catalog.
 
   unique index i_cataclno on nfmcatalogaclmap (n_mapno)
   unique index i_cataclmap on nfmcatalogaclmap (n_catalogno, n_aclno)
 
8.  nfmcatalogs
 
This table keeps track of all the catalogs created in the I/NFM system.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_catalogno      integer       Unique table index.
   n_catalogname    char(20)      Name of the catalog table.
   n_catalogdesc    char(40)      Description of the catalog.
   n_creator        char(14)      Username from the  nfmusers  table of the
                                  user that created the catalog.
   n_creationdate   timestamp     Date/time the catalog was created.
   n_updater        char(14)      Username from the  nfmusers  table of the
                                  user that updated the catalog.
   n_updatedate     timestamp     Date/time  the  catalog  record  was last
                                  modified.
   n_identifier     char(20)      Application-specified identifier  for the
                                  catalog.
   n_stateno        integer       Index    into    the    nfmstates   table
                                  identifying  the  current  state  of  the
                                  catalog.
   n_aclno          integer       Index into the nfmacls tables identifying
                                  which  ACL  should  be  assigned  to  the
                                  catalog.
   n_type           char(3)       Type   of    catalog    as   defined   by
                                  applications.
   n_archiveno      integer       Index into  the  nfmarchives  table which
                                  identifies  the  archival  information if
                                  catalog has been archived. (Currently not
                                  used.)
   n_archivestate   char(1)       "A" = entire catalog has been archived,;
                                  "B" = catalog has been backed up;
                                  NULL  if  there   have  been  no  archive
                                  transactions on the catalog as a whole.
                                  (Currently not used.)
   n_pendingflag    char(2)       "A" = catalog flagged for archive;
                                  "B" = catalog flagged for backup;
                                  "R" = catalog flagged for restore;
                                  NULL if no flags are pending.
                                  (Currently not used.)
 
   unique index i_catalogno on nfmcatalogs (n_catalogno)
   unique index i_catalogname on nfmcatalogs (n_catalogname)
 
9.  nfmcatalogsamap
 
This table is used to  track  the  storage  areas  allowed for items in the
indicated catalog. There may be  several  storage  areas mapped to a single
catalog.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_mapno          integer       Unique table index.
   n_catalogno      integer       Index   into    the   nfmcatalogs   table
                                  identifying the catalog being mapped.
   n_sano           integer       Index  into   the   nfmstoragearea  table
                                  identifying a  storage  area  allowed for
                                  this catalog.
 
   unique index i_catsamap on nfmcatalogsamap (n_catalogno, n_sano)
   unique index i_catsano on nfmcatalogsamap (n_mapno)
 
10.  nfmclasses
 
This table keeps track of all the user classes defined within a workflow.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_classno        integer       Unique table index.
   n_classname      char(20)      Name of a user class.
   n_workflowno     integer       Index   into    the   nfmworkflow   table
                                  identifying  which  workflow  this  class
                                  belongs.
 
   unique index i_classno on nfmclasses (n_classno)
   unique index i_classname on nfmclasses (n_classname, n_workflowno)
 
11.  nfmcommands
 
This table is used to keep track of all the I/NFM commands that can be used
in workflow processing.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_commandno      integer       Unique table index.
   n_commandname    char(100)     Command string.
   n_application    char(3)       Application identifier  to  which command
                                  belongs.
   n_transcommand   char(1)       "Y"  if   this   command   can   cause  a
                                  transition;  else   "N".  (not  currently
                                  used)
   n_entity         char(1)       Determines  the  extent   of  the  search
                                  through  workflows   to   determine  user
                                  access to the command. Possible values:
                                  "N" = NOENTITY (search all workflows);
                                  "S" = SDP (workflow);
                                  "A" = ADMIN;
                                  "C" = CATALOG;
                                  "P" = PROJECT;
                                  "I" = ITEM.
                                  "D" = Don't check at all.
   n_nfmcommandno   integer       Index in nfmcommands  to an I/NFM command
                                  (used by  applications)  that corresponds
                                  to this command  in workflow access. NULL
                                  if  there   is   no  corresponding  I/NFM
                                  command.
 
   unique index i_commno on nfmcommands (n_commandno)
   unique index i_commname on nfmcommands (n_commandname)
 
12.  nfmindex
 
This table is used to generate unique identifiers for each table managed by
the I/NFM system. An entry  is  made  when  a  row has been deleted from an
I/NFM table signifying that this slot may be used again.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_tablename      char(20)      I/NFM managed table name.
   n_indexslot      integer       Next empty index value for the table.
 
   unique index i_index on nfmindex (n_tablename, n_indexslot) 
 
13.  nfmlists
 
This table is used in  the  attribute  subsystem  to manage lists of values
and/or advisory information. A single  list  will  be entries with a common
list number (n_listno).
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_listno         integer       List number.
   n_listname       char(20)      Name assigned to the list.
   n_value          char(40)      One of the values in  a given list or the
                                  advisory information.
   n_value2         char(40)      An  optional  second  value  for  a given
                                  list.
 
   unique index i_listno on nfmlists (n_listno, n_value)
   index i_list on nfmlists (n_listno)
   index i_listname on nfmlists (n_listname)
 
14.  nfmnodes
 
This table is used to  manage  all  the nodes in the Clearinghouse database
with which I/NFM must communicate.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_nodeno         integer       Unique table index.
   n_nodename       char(30)      Clearinghouse node name.
   n_nodedesc       char(40)      Description of the node.
   n_machid         char(10)      Machine  or  site  id.  Current  values -
                                  "VAX", "CLIX", "IBM", or "PC".
   n_opsys          char(10)      Corresponds  to  "NETMAP_info" (operating
                                  system type)  in  Clearinghouse database.
                                  Currently may be  "VMS", "UNIX", "VM/SP",
                                  or "DOS".
   n_xns            char(1)       "Y" if  the  node  uses  the  XNS network
                                  protocol; else "N".
   n_tcpip          char(1)       "Y" if the  node  uses the TCP/IP network
                                  protocol; else "N".
   n_decnet         char(1)       "Y" if the  node  uses the DECNET network
                                  protocol;   else   "N".   (not  currently
                                  available)
   n_netware        char(1)       "Y" if the node  uses the NETWARE network
                                  protocol; else "N".
   n_nfs            char(1)       I/NFM  generated   entry  signifying  the
                                  existence of NFS ("Y" or "N").
 
   unique index i_nodeno on nfmnodes (n_nodeno)
   unique index i_nodename on nfmnodes (n_nodename)
 
15.  nfmprocesses
 
This table  stores  information  on  the  different  processes  that can be
invoked prior to or as a result of a transition.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_transitionno   integer       Index  into   the   nfmtransitions  table
                                  identifying which  transition  causes the
                                  process to be invoked.
   n_programno      integer       Index   into    the   nfmprograms   table
                                  identifying  the   program/script  to  be
                                  invoked.
   n_seqno          integer       If more than  one  process can be invoked
                                  by  a   transition,   processes  will  be
                                  invoked in the  order  designated by this
                                  attribute.
   n_prepost        char(1)       "B" = process  is  to  be  run before the
                                  transition  (dependent   on   the  "from"
                                  state);
                                  "A" =  process  is  to  be  run after the
                                  transition (dependent on the "to" state).
 
   unique index i_procname on nfmprocesses (n_transitionno, n_programno)
 
16.  nfmprograms
 
This table is used to  manage  programs.  These programs are executables or
scripts used by processes invoked due to a workflow transition.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_programno      integer       Unique table index.
   n_programname    char(20)      User defined name of the program.
   n_programdesc    char(40)      A description of the program.
   n_programfile    char(14)      The  I/NFM  filename  generated  for  the
                                  program. (The file is stored in the I/NFM
                                  SYSTEM storage area.)
 
   unique index i_progno on nfmprograms (n_programno)
   unique index i_progname on nfmprograms (n_programname)
 
17.  nfmprojectaclmap
 
This table is used to track  the  workflow access control lists allowed for
items in the indicated project.  To  create this restriction, mappings from
the nfmcatalogaclmap table are associated with a project.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_projectno      integer       Index   into   the   nfmprojects   tables
                                  identifying the project being mapped.
   n_mapno          integer       Index  into  the  nfmcatalogaclmap  table
                                  which identifies a catalog ACL mapping to
                                  be associated with this project.
 
   unique index i_projmap on nfmprojectaclmap (n_projectno, n_mapno)
 
18.  nfmprojectcit
 
The project "contained  in"  table  is  used  to  store the item-to-project
relationships that must be known to I/NFM or an application.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_citno          integer       Unique table index.
   n_projectno      integer       Index   into    the   nfmprojects   table
                                  identifying the parent project.
   n_catalogno      integer       Index   into    the   nfmcatalogs   table
                                  identifying the  catalog  where the child
                                  item is stored.
   n_itemno         integer       Index into  a  catalog  table identifying
                                  the child item.
   n_type           char(1)       Type  of   parent-child  relationship  as
                                  defined by the application:
                                  "O" = the item is owned by the project;
                                  "R"  =  the  item  is  referenced  by the
                                  project.
   n_archiveno      integer       Index into  the  nfmarchives  table which
                                  identifies the archival information
   n_archiveflag    char(1)       "A" = the project member has been flagged
                                  for archived;
                                  "B" = the project member has been flagged
                                  for backup;
                                  "R" = the project member has been flagged
                                  for restore;
                                  NULL if there  are  no  flags pending for
                                  the project member.
 
   unique index i_projcitno on nfmprojectcit (n_citno)
   unique  index  i_projmem  on  nfmprojectcit  (n_projectno,  n_catalogno,
   n_itemno)
   index i_projmemno on nfmprojectcit (n_projectno)
   index i_projitemno on nfmprojectcit (n_catalogno, n_itemno)
 
19.  nfmprojects
 
This table keeps track  of  all  the  projects  that are created within the
I/NFM system.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_projectno      integer       Unique table index.
   n_projectname    char(20)      Name of project.
   n_projectdesc    char(40)      Description of project.
   n_creationdate   timestamp     Date/time the project was created.
   n_projectmgr     char(14)      Name of project manager.
   n_stateno        integer       Index    into    the    nfmstates   table
                                  identifying  the  current  state  of  the
                                  project.
   n_aclno          integer       Index into the nfmacls tables identifying
                                  which ACL is assigned to the project.
   n_archivestate   char(1)       "A" = entire project has been archived;
                                  "B" = project has been backed up at least
                                  once;
                                  NULL  if  there   have  been  no  archive
                                  transactions on the project as a whole.
   n_archiveno      integer       Index into  the  nfmarchives  table which
                                  identifies  the  archival  information if
                                  project has been archived.
   n_pendingflag    char(2)       "A" = project flagged for archive;
                                  "B" = project flagged for backup;
                                  "R" = project flagged for restore;
                                  NULL if no flags are pending. 
   n_application    char(3)       The application creating the project.
   n_projectnum     char(20)      User-definable project number.
 
   unique index i_projno on nfmprojects (n_projectno)
   unique index i_projname on nfmprojects (n_projectname)
 
20.  nfmprojectsamap
 
This table is used to  track  the  storage  areas  allowed for items in the
indicated  project.  To   create   this   restriction,  mappings  from  the
nfmcatalogsamap table are associated with the project.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_projectno      integer       Index   into   the   nfmprojects   tables
                                  identifying the project being mapped.
   n_mapno          integer       Index  into   the  nfmcatalogsamap  table
                                  identifying   a   catalog   storage  area
                                  mapping associated with the project.
 
   unique index i_projsamap on nfmprojectsamap (n_projectno, n_mapno)
 
21.  nfmreports
 
The table manages search and sort criteria definitions.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_reportno       integer       Unique table index.
   n_reportname     char(20)      Name of the criteria.
   n_reportdesc     char(40)      Description of the criteria.
   n_owner          integer       Index  into  the  nfmusers  table  of the
                                  owner/creater of  the  criteria. May also
                                  be  used  to  denote  public  use  of the
                                  criteria.
   n_application    char(3)       Identifier for  application  that created
                                  the  entry.
   n_type           char(1)       "W" (where by)  =  the  entry is a search
                                  criteria;
                                  "O" (order  by)  =  the  entry  is a sort
                                  criteria
   n_apptype        char(1)       Type  of  criteria   as  defined  by  the
                                  application.
   n_tabletype      char(20)      Denotes the type of table the criteria is
                                  defined for  (I/NFM  system  table, user-
                                  defined item search  on a catalog, etc.).
                                  (not currently used)
   n_reportfile     char(14)      The  I/NFM   generated   file  name.  The
                                  criteria is  stored  in  the I/NFM SYSTEM
                                  storage area.
 
   unique index i_reportno on nfmreports (n_reportno)
   unique  index  i_report   on  nfmreports  (n_reportname,  n_application,
   n_type, n_apptype)
 
22.  nfmsafiles
 
This table is used to manage  local  files on storage areas. All files that
are checked out or copied to a storage area are entered into the table.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_sano           integer       Index into nfmstoragearea table.
   n_filename       char(512)     Name of the file as checked out/copied to
                                  the working storage area.
   n_catalogno      integer       Index into the nfmcatalogs table.
   n_itemno         integer       Index into  the  item's  catalog table of
                                  the checked out/copied item.
   n_filenum        integer       Index into the  item's  file table of the
                                  checked out/copied file.
   n_fileversion    integer       Version of the checked out/copied file.
   n_co             char(1)       "Y" if the  file  is  checked  out to the
                                  working storage area; else "N".
   n_copy           char(1)       "Y" if the file  is copied to the working
                                  storage area; else "N".
   n_ref            integer       Indicates the number of times the file is
                                  used  as  a  secondary  member  of  a set
                                  (reference file).
   n_nfs            char(1)       "Y"  if  NFS   was   used  for  the  copy
                                  operation.
   n_cisano         integer       If   n_nfs   =   "Y",   index   into  the
                                  nfmstoragearea   table   identifying  the
                                  I/NFM  storage  area   which  is  mounted
                                  remotely.
   n_mountpoint     char(80)      If n_nfs  =  "Y",  the  local mount point
                                  used to mount n_cisano.
 
23.  nfmsavesets
 
This table manages information about each file in an archival or backup.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_archiveno      integer       Index into the nfmarchives table.
   n_catalogno      integer       Index   into    the   nfmcatalogs   table
                                  identifying the  catalog  of the archived
                                  item.
   n_itemno         integer       Index into  a  catalog  table identifying
                                  which item in the catalog is archived.
   n_fileno         integer       Index  into   the   file   catalog  table
                                  identifying which  file  of  the  item is
                                  archived.
   n_itemstate      char(1)       "A"  (active)   if   item   is  currently
                                  archived;
                                  "I" (inactive) if item has been restored.
   n_restoreno      integer       Group number value assigned by I/NFM used
                                  to restore a file  that has been archived
                                  or backed up.
   n_restoredate    timestamp     Date/time archived file was restored.
 
24.  nfmsetcit
 
The set  "contained  in"  table  is  used  to  store  any  set parent-child
relationship that must be known to I/NFM or an application.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_citno          integer       Unique table index.
   n_pcatalogno     integer       Index   into    the   nfmcatalogs   table
                                  identifying  the  catalog  of  the parent
                                  item.
   n_pitemno        integer       Index into  a  catalog  table identifying
                                  the parent item.
   n_ccatalogno     integer       Index   into    the   nfmcatalogs   table
                                  identifying  the  catalog  of  the  child
                                  item.
   n_citemno        integer       Index into  a  catalog  table identifying
                                  the child item.
   n_type           char(1)       Type  of   parent-child  relationship  as
                                  defined by the application.
   n_archiveno      integer       Index into  the  nfmarchives  table which
                                  identifies  the  archival  information if
                                  n_archiveflag is "Y". 
   n_archiveflag    char(1)       "Y" if the child  in the relationship has
                                  been  archived   apart   from  the  other
                                  siblings.
 
   unique   index   i_setmem   on   nfmsetcit   (n_pcatalogno,   n_pitemno,
   n_ccatalogno, n_citemno)
   unique index i_setcitno on nfmsetcit (n_citno)
   index i_setparent on nfmsetcit (n_pcatalogno, n_pitemno)
   index i_setchild on nfmsetcit (n_ccatalogno, n_citemno)
 
25.  nfmsignoff
 
This table is used to track  signoffs  that have occurred on an item. There
is one entry for each signoff. 
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_catalogno      integer       Index   into    the   nfmcatalogs   table
                                  identifying which catalog  the item being
                                  affected is located.
   n_itemno         integer       Index into  a  catalog  table identifying
                                  which item is being affected.
   n_stateno        integer       Index    into    the    nfmstates   table
                                  identifying  which   state  this  signoff
                                  definition is for.
   n_userno         integer       Index into the nfmusers table identifying
                                  the specific user  who  has signed off on
                                  the item.
   n_signoff        char(1)       "X" = a user has signed off;
                                  "O" = A  user  has  signed  off using the
                                  OVERRIDE privilege
   n_history        char(1)       "Y" indicates that this record is signoff
                                  history (all required  signoffs have been
                                  performed and a  transition has been made
                                  to a new state).
   n_reason         char(40)      Comments on signoff.
 
 
   index  i_signoff   on   nfmsignoff   (n_catalogno,  n_itemno,  n_userno,
   n_stateno)
 
26.  nfmsignoffusers
 
This table is used to link  signoff  users with a particular Access Control
List (ACL). There is one entry for each signoff user for each state in each
ACL.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_aclno          integer       Index into the nfmacls table 
   n_stateno        integer       Index    into    the    nfmstates   table
                                  identifying the signoff state
   n_userno         integer       Index into the nfmusers table identifying
                                  the specific user  required to signoff on
                                  the item in this state
   n_override       char(1)       "Y" if the user  can cause the signoff to
                                  be  completed  without  the  other  users
                                  completing    the    signoff.   (Override
                                  privilege)
 
   unique  index  i_signoffusr   on  nfmsignoffusers  (n_aclno,  n_stateno,
   n_userno)
 
27.  nfmstates
 
This table keeps track of all the states defined for the workflows.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_stateno        integer       Unique table index.
                                  Note - Actual states  begin with "2". The
                                  "0" and "1"  states  have special meaning
                                  and are used in every workflow.
   n_statename      char(40)      Name of the state.
   n_statedesc      char(40)      Description of the state.
   n_workflowno     integer       Index   into    the   nfmworkflow   table
                                  identifying  which  workflow  this  state
                                  belongs.
   n_transfrom      char(1)       "Y" = this state  permits a transition to
                                  a next state  using the "Make Transition"
                                  command; else "N".
   n_transto        char(1)       "Y"  if  this  state   is  allowed  as  a
                                  destination   state   during   the  "Make
                                  Transition" command; else "N".
   n_signoffs       integer       Minimum number of users needed to signoff
                                  on the state. "0"  means signoffs are not
                                  used on this state.
   n_majority       char(2)       "MN" (mandatory) = all signoff users need
                                  to signoff to allow the state to change;
                                  "MJ"  (majority)  =  a  majority  of  the
                                  signoff users need to signoff;
                                  "N" = signoffs  are  not used (only valid
                                  with a n_signoffs value of "0").
   n_seqno          integer       Sequencing number for  this  state in the
                                  workflow.
 
   unique index i_stateno on nfmstates (n_stateno)
   unique index i_statename on nfmstates (n_workflowno, n_statename)
   unique index i_seqno on nfmstates (n_stateno, n_seqno)
 
28.  nfmstoragearea
 
This  table  manages  the  storage  area  information  that  I/NFM  uses to
accomplish file transfers to and from the area.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_sano           integer       Unique table index.
   n_saname         char(30)      Name of the storage area.
   n_nodeno         integer       Index into the nfmnodes table.
   n_username       char(14)      Login username for  access to the storage
                                  area.
   n_passwd         char(50)      Password for n_username.
   n_pathname       char(80)      If the storage  area  is a directory, the
                                  path name;  if  the  storage  area  is an
                                  optical disk, the platter name.
   n_devicetype     char(2)       Type  of  device  designated  by  storage
                                  area:
                                  "UT" = unix tape/Exabyte tape;
                                  "CT" = cartridge tape;
                                  "MT" = magnetic tape (VAX);
                                  "HD" = hard disk;
                                  "FD" = floppy disk;
                                  "MO" = erasable optical disk;
                                  "WR" = WORM optical disk;
                                  "OF" = optical disk  with no jukebox (CSS
                                  6.0).
                                  "CA" =  optical  disk  location with file
                                  caching
   n_type           char(1)       Storage area type:
                                  "I" = internal checkin file storage;
                                  "W" = working storage area;
                                  "U" = utility storage area;
                                  "S"   =   I/NFM   system   storage   area
                                  (search/sort files, programs, etc.).
                                  "D" = DOS storage area
                                  "B" = internal, working, or
                                  utility storage area
   n_plattername    char(16)      If this is an  optical disk storage area,
                                  the name of  the  optical disk platter to
                                  store files. (not used)
   n_partition      char(3)       If n_devicetype is "MO" (erasable optical
                                  disk), the  partition  type and modifier.
                                  Ex. "7.3" -  7  is  partition  type, 3 is
                                  partition modifier.  Warning:  default is
                                  0.0 - the entire platter side. (not used)
   n_owner          integer       Index into the nfmusers table identifying
                                  who is responsible  for this storage area
                                  (can change the password, etc.).
   n_nfs            char(1)       "Y" if the  storage  area  may be mounted
                                  via NFS; else "N".
   n_compress       char(1)       "Y" if the files on this storage area are
                                  to be stored  in  compressed format; else
                                  "N". (Currently not supported.)
 
   unique index i_sano on nfmstoragearea (n_sano)
   unique index i_saname on nfmstoragearea (n_saname)
   unique  index   i_sanode   on   nfmstoragearea   (n_nodeno,  n_username,
   n_pathname, n_devicetype)
 
29.  nfmsysattributes
 
This table is used by the  to manage information on attributes (columns) of
the I/NFM-generated system tables.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_attrno         integer       Unique table index.
   n_tableno        integer       Index  into  nfmtables  identifying which
                                  table the attribute belongs.
   n_name           char(20)      Name of attribute (table column).
   n_synonym        char(40)      Synonym to be used for attribute.
   n_datatype       char(15)      Data type of attribute.
   n_seqno          integer       Sequencing  number  for  order  that this
                                  attribute   should   appear   (used   for
                                  listings).
   n_read           char(1)       "Y" if  read  access  is  allowed  on the
                                  attribute; else "N".
   n_write          char(1)       "Y" if  write  access  is  allowed on the
                                  attribute; else "N". (Used during "Add".)
   n_update         char(1)       "Y" if update  access  is  allowed on the
                                  attribute;   else   "N".   (Used   during
                                  "Change".)
   n_delete         char(1)       "Y" if  attribute  may  be  deleted; else
                                  "N".
   n_null           char(1)       "Y" if null  values  are  allowed for the
                                  attribute; else "N".
   n_checkin        char(1)       "Y"  if  the  attribute  may  be  updated
                                  during checkin; else "N".
   n_checkout       char(1)       "Y"  if  the  attribute  may  be  updated
                                  during checkout; else "N".
   n_application    char(3)       Identifier for  application  that created
                                  the attribute. Also  used to denote user-
                                  defined attributes.
   n_lattrno        integer       If not 0, an index into the table pointed
                                  to by n_jointable  identifying the select
                                  attribute (the attribute to be displayed)
                                  needed for the join condition.
   n_jointable      char(1)       Identifies  the   table   to  search  for
                                  n_lattrno   and   n_joinattrno   ("A"   =
                                  nfmattributes; "S" = nfmsysattributes).
   n_joinattrno     integer       Index  into  the   table  pointed  to  by
                                  n_jointable  identifying   the  attribute
                                  name to  be  used  to  complete  the join
                                  condition.
 
   unique index i_sysattrno on nfmsysattributes (n_attrno)
   index i_sysattrtabno on nfmsysattributes (n tableno)
   index i_sysattrseq on nfmsysattributes (n_seqno, n_tableno)
 
30.  nfmtables
 
This table keeps information on all the tables created through I/NFM.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_tableno        integer       Unique table index.
   n_tablename      char(20)      Name of a table managed by I/NFM.
   n_tabletype      char(20)      Identifies the type  of table (nfmsystem,
                                  catalog,   f_catalog,   t_basic,  t_appl)
                                  Also used by applications for application
                                  defined tables.
   n_identifier     char(20)      Identifier for application-defined tables
                                  and templates.
 
31.  nfmtransitions
 
This table keeps track of  all  the  transitions  from one state to another
that are defined for each workflow.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_transitionno   integer       Unique table index.
   n_transitionname char(80)      Name of the transition.
   n_commandno      integer       Index   into    the   nfmcommands   table
                                  identifying    which    command    caused
                                  transition.
   n_fromstate      integer       Index    into    the    nfmstates   table
                                  identifying   the   source   state.   "0"
                                  indicates  that  the   command  does  not
                                  affect the active item.
   n_tostate        integer       Index    into    the    nfmstates   table
                                  identifying  the  destination  state. "0"
                                  indicates  that  the   command  does  not
                                  affect  the  active  item.  "1" indicates
                                  that the command  affects the active item
                                  but does not change the state.
   n_logonsuccess   char(1)       "Y" if an entry  is  to  be made into the
                                  nfmactivity    table     on    successful
                                  completion [Aof the transition; else "N".
   n_logonfailure   char(1)       "Y" if an entry  is  to  be made into the
                                  nfmactivity  table   if   the  transition
                                  fails; else "N".
   n_notify         char(1)       "Y" if users  affected  by the transition
                                  are to be notified; else "N".
   n_workflowno     integer       Index   into    the   nfmworkflow   table
                                  identifying which workflow the transition
                                  belongs.
 
   unique index i_transno on nfmtransitions (n_transitionno)
   unique    index    i_transname    on    nfmtransitions    (n_workflowno,
   n_transitionname, n_fromstate)
   unique index i_transcomm  on  nfmtransitions (n_workflowno, n_commandno,
   n_fromstate, n_tostate)
 
32.  nfmusers
 
This table keeps a record for every user in the I/NFM system that will need
access to I/NFM.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_userno         integer       Unique table index.
   n_username       char(14)      I/NFM login username for user.
   n_passwd         char(50)      I/NFM password for n_username.
   n_userdesc       char(40)      Description of user.
   n_group          char(20)      User defined group.
   n_emailaddr      char(60)      User's electronic mail path.
   n_projectno      integer       Index   into   the   nfmprojects   tables
                                  identifying the user's default project.
   n_application    char(3)       User's default application.
   n_sano           integer       User's default  storage  area where files
                                  will go when checked out.
   n_catalogno      integer       Index into  nfmcatalogs table identifying
                                  the user's default catalog.
   n_itemno         integer       Index into the  catalog table identifying
                                  the user's default item.
   n_setcatno       integer       Index into  nfmcatalogs table identifying
                                  the user's default set catalog.
   n_setitemno      integer       Index into the  catalog table identifying
                                  the user's default set.
   n_searchno       integer       Index   into    the    nfmreports   table
                                  identifying  the  user's  default  search
                                  criteria.
   n_sortno         integer       Index   into    the    nfmreports   table
                                  identifying  the   user's   default  sort
                                  criteria.
   n_date           timestamp     For future use.
 
   unique index i_userno on nfmusers (n_userno)
   unique index i_username on nfmusers (n_username)
 
33.  nfmvalues
 
This table is used  to  manage  information  on default values, ranges, and
advisory information for attributes in the I/NFM system.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_attrno         integer       Index   into   the   nfmattributes  table
                                  linking  an  attribute   with  its  value
                                  information.
   n_defaultno      integer       Index   into    the   nfmprograms   table
                                  identifying the program  used to generate
                                  a  default   value   for   an  attribute.
                                  (Currently not used.)
   n_listno         integer       Index into the nfmlists table identifying
                                  a  list  of   values  for  the  attribute
                                  (n_type    =    "C"heck)    or   advisory
                                  information (n_type = "A"dvice).
   n_type           char(1)       Type  of   attribute  checking  required.
                                  Values:
                                  "C" = CHECK (check attribute value);
                                  "A" = ADVICE (advisory information).
   n_defaultvalue   char(40)      Fixed default value  of attribute (n_type
                                  = "C" only).
   n_maxvalue       char(40)      Fixed maximum value  of attribute (n_type
                                  = "C" only).
   n_minvalue       char(40)      Fixed minimum value  of attribute (n_type
                                  = "C" only).
   n_programno      integer       Index   into    the   nfmprograms   table
                                  identifying the program  used to generate
                                  a value for  an attribute. (Currently not
                                  used.)
 
   unique index i_valueno on nfmvalues (n_attrno, n_type)
   index i_valattrno on nfmvalues (n_attrno)
 
34.  nfmworkflow
 
This table keeps track of information  relating to the workflows defined in
the I/NFM system.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_workflowno     integer       Unique table index.
   n_workflowname   char(20)      Name of workflow.
   n_workflowdesc   char(40)      Description of workflow.
   n_workflowtype   char(1)       Type of workflow:
                                  "A" = ADMIN;
                                  "I" = ITEM;
                                  "C" = CATALOG;
                                  "P" = PROJECT;
                                  "S" = SDP.
   n_stateno        integer       Index    into    the    nfmstates   table
                                  identifying  the  current  state  of  the
                                  workflow.
   n_aclno          integer       Index into the  nfmacls table identifying
                                  the access control list for the workflow.
 
   unique index i_wfno on nfmworkflow (n_workflowno)
   unique index i_wfname on nfmworkflow (n_workflowname)
 
35.  nfmsyscat
 
This table  is  the  I/NFM  system  catalog.  It  stores  various pieces of
information needed by I/NFM (ie. I/NFM Version).
 
   n_rowno          integer       Unique table index.
   n_infotype       char(20)      Type  of   information   stored  in  this
                                  record.
   n_description    char(40)      Description of the  information stored in
                                  this record.
 
   unique index i_30_1 on nfmsyscat (n_rowno)
 




36.  <catalog>
 
This table represents the basic  structure  of  all catalogs created in the
I/NFM system.  These  catalogs  maintain  information  about items, but not
their  associated  files.   These   are   the   I/NFM  default  attributes.
Applications/users may define their own. Note that all usernames are stored
instead of their indexes into  the  nfmusers table for history tracking. In
case a user was deleted, his name would still be associated with the item.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_itemno         integer       Unique table index.
   n_itemname       char(15)      Item name or number.
   n_itemrev        char(15)      Item revision.
   n_itemdesc       char(40)      Description of item.
   n_creator        char(14)      User from the  nfmusers table identifying
                                  who created the item.
   n_creationdate   timestamp     Date/time the item was created.
   n_updater        char(14)      User from the  nfmusers table identifying
                                  who caused the last update of the item.
   n_updatedate     timestamp     Date/time  the   item   record  was  last
                                  updated.
   n_status         char(2)       NULL if item has no associated files;
                                  "O" = item is checked out;
                                  "I" = item is checked in;
                                  "S" = item is checked out as set;
                                  "M" = item is checked  out as member of a
                                  set;
                                  "SN" = item is checked out as set but has
                                  no file;
                                  "MN" = item is  checked  out as member of
                                  set but has no file;
                                  "ON" = item checked out / has no file
                                  "TI" = item  is  in  file transfer coming
                                  in;
                                  "TO" =  item  is  in  file transfer going
                                  out;
                                  "TF" =  item  is  having  files  added or
                                  deleted;
                                  "TM" = item (set) is having members added
                                  or deleted.
   n_colevel        integer       The number of  levels  of  a set that are
                                  checked out.
   n_setindicator   char(1)       "Y" = item is a set; else NULL
   n_archivestate   char(1)       "A" = item has been archived;
                                  "B" = item  has  been  backed up at least
                                  once;
                                  NULL = there  is  no file associated with
                                  the item or item  has  not been backed up
                                  or archived.
   n_stateno        integer       Index    into    the    nfmstates   table
                                  identifying  the  current  state  of  the
                                  item.
   n_prevstateno    integer       Index    into    the    nfmstates   table
                                  identifying  the  previous  state  of the
                                  item.
   n_aclno          integer       Index into the  nfmacls table identifying
                                  the ACL assigned to this item.
   n_itemlock       char(1)       "N" = item is not locked;
                                  "Y" = item is locked;
                                  "C" = item is  locked,  but can be copied
                                  out.
   n_versionlimit   integer       Maximum number of  versions  a file of an
                                  item may have.
   n_pendingflag    char(2)       NULL = no flags have occurred.
                                  "IA" = item flagged for archive;
                                  "IB" = item flagged for backup;
                                  "IR" = item flagged for restore;
                                  "ID" = item flagged for delete;
                                  "SA" = set item flagged for archive;
                                  "SB" = set item flagged for backup;
                                  "SR" = set item flagged for restore;
                                  "MA" = set member flagged for archive;
                                  "MB" = set member flagged for backup;
                                  "MR" = set member flagged for restore;
                                  "PA"  =   project   member   flagged  for
                                  archive;
                                  "PB" = project member flagged for backup;
                                  "PR"  =   project   member   flagged  for
                                  restore.
   n_iconname       char(40)      Looking Glass icon name.
   n_lgfiletype     char(40)      Looking Glass filetype.
 
   unique index i_<tableno of catalog>_1 on <catalog> (n_itemno)
   unique  index  i_<tableno   of   catalog>_2  on  <catalog>  (n_itemname,
   n_itemrev)
 
37.  f_<catalog>
 
This table is the file catalog.    One table exists for every catalog table
created.   The  information  maintained  in  the  system  is  file specific
information needed to manage the files of an item.
 
   ATTRIBUTE        DATA TYPE     DESCRIPTION
 
   n_fileno         integer       Unique table index.
   n_itemnum        integer       Index  into   the   catalog  table  which
                                  identifies the item  associated with this
                                  file.
   n_filenum        integer       Unique identifier of  a  file  in an item
                                  when there  are  multiple  files per item
                                  (ie. an n_itemnum/n_filenum/n_fileversion
                                  combination represents a unique file).
   n_fileversion    integer       Version number of file.
   n_fileclass      char(1)       "C" if file is  a  component file and "D"
                                  if  file  is   derived.  (Currently  only
                                  "C"omponent files are allowed.)
   n_filetype       char(5)       "I" =  file is an IGDS file;
                                  "F" = file is a fixed length file;
                                  "C" = file is contiguous;
                                  "M" = file is a Microstation file.
   n_fileco         char(1)       NULL = no file exists;
                                  "Y" = file is checked out;
                                  "N" = file is not checked out.
   n_restoreflag    char(2)       NULL = no flags have occurred.
                                  "IR" = item file flagged for restore;
                                  "SR" = set file flagged for restore;
                                  "MR"  =  set   member  file  flagged  for
                                  restore;
                                  "PR" =  project  member  file flagged for
                                  restore.
   n_archiveno      integer       Index   into    the   nfmarchives   table
                                  containing   the   most   recent  archive
                                  information for the file.
   n_cifilesize     integer       Byte size of checked in file.
   n_cisano         integer       Index into the  nfmstoragearea table that
                                  identifies  where  the   file  is  stored
                                  internally after check in.
   n_cifilename     char(14)      Internal (checkin) storage file name.
   n_ciuser         char(14)      User  from   the   nfmusers   table  that
                                  identifies who checked in the file.
   n_cidate         timestamp     Date/time the file was last checked in.
   n_cosano         integer       Index into the  nfmstoragearea table that
                                  identifies the working storage area where
                                  the file was checked out.
   n_cocomment      char(40)      A comment the user can make about why the
                                  file is being checked out.
   n_cofilename     char(14)      External name to  be  given the file when
                                  it is checked  out  to  a working storage
                                  area.
   n_couser         char(14)      User  from   the   nfmusers   table  that
                                  identifies who has the file checked out.
   n_codate         timestamp     Date/time the file was last checked out.
   n_convertind     char(10)      Indicator signifying  that  this file was
                                  archived during  a  conversion. The value
                                  is the  version  of  the  converter which
                                  indicates file  name  format  and archive
                                  format  needed  to  properly  restore the
                                  file.
 
   unique index i_<tableno of catalog>_3 on f_<catalog> (n_fileno)
   index i_<tableno of catalog>_4 on f_<catalog> (n_itemnum)
