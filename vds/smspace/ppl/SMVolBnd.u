/* $Id: SMVolBnd.u,v 1.1.1.1 2001/01/04 21:07:38 cvs Exp $  */

/* --------------------------------------------------------------------
 * I/VDS
 *
 * File:	vds/smspace/ppl / SMVolBnd.u
 *
 * Description:
 *
 * Dependencies:
 *
 * Revision History:
 *	$Log: SMVolBnd.u,v $
 *	Revision 1.1.1.1  2001/01/04 21:07:38  cvs
 *	Initial import to CVS
 *	
# Revision 1.1  1998/04/29  16:27:20  pinnacle
# VDS 2.5.1
#
# Revision 1.1  1997/05/08  13:20:44  pinnacle
# New project VDS 250
#
# Revision 1.1  1996/07/19  20:33:52  pinnacle
# Create VDS 241 project
#
# Revision 1.1  1994/11/14  22:42:32  pinnacle
# Create vds.240 from vds.232
#
# Revision 1.1  1994/11/08  16:07:00  pinnacle
# create vds.232
#
 *
 * History:
 *	MM/DD/YY	AUTHOR		DESCRIPTION
 *
 * -------------------------------------------------------------------*/



#include "cieveryone.h"
#include "cimacros.h"
#include "ci_mac_def.h"

#include "igr.h"
#include "igrtypedef.h"
#include "igrdp.h"
#include "grerr.h"
#include "grdpbdef.h"
#include "grdpbmacros.h"
#include "exmacros.h"

#include "bstypes.h" 
#include "bserr.h"
#include "bsconic.h"
#include "OMprimitives.h"

#include "EMSmsgdef.h"
#include "EMSopt.h"
#include "EMSssprops.h"
#include "EMSconstruct.h"
#include "emsdef.h"
#include "emssfintdef.h"
#include "emsbool.h"

#include "nddef.h"
#include "DIdef.h"

#include "macro.h"
#include "acmacros.h"
#include "COmdef.h"

#include "msmacros.h"
#include "msdef.h"
#include "madef.h"
#include "VDSutil_def.h"
#include "AS_status.h"
#include "SMgraph.h"


#define   VERBOSE 	1
#define   EPSILON	1.0E-10
#define   MAX_SURF	50 	/* number of located objects */
#define   MAX_TEMP	51 	/* number of templates */
#define	  MAX_CHA_TEMP	7
#define	  MAX_CHA_ROOT	4

#define	  ORDER		2

#define ACkeep_template 1024


/*
#define   DEBUG 	1
#define   DBG_TEMP 	1 
#define   DBG_PROJ 	1 
#define   DBG_INTSF 	1 
#define   DBG_INTCV 	1 
#define   DBG_PARTOF 	1 
#define   DBG_CENTER 	1 
#define   DBG_COMPCV 	1 
#define   DBG_IN 	1 
#define   DBG_BOOL 	1 
*/

/* Different kind of intersections, the first word is for the support */


struct GRid	 	new_obj,CI_MACRO_ID, mac, def_temp;
GRobj 			ci_mac_def1, ci_mac_def2;
IGRchar			*temp_names[MAX_TEMP], *feet_names[1];
IGRint			temp_types[MAX_TEMP];
struct ret_struct	temp1_rts;
struct GRlc_info        lc_obj[MAX_SURF];

struct GRmd_env         OBJ_ENV[MAX_SURF], MOD_ENV;
struct GRvg_construct   cst;
struct IGRdisplay	dis;
struct GRid		SPROJ, SUR[MAX_SURF], GRid_list;

IGRdouble		offset;
GRclassid		sfid_class;
			
IGRboolean 	        is_natural_normal,err_flag;

char			inf_flag[MAX_SURF], 
			buff1[MAX_TEMP*MAX_CHA_TEMP], 
			buff2[MAX_TEMP*MAX_CHA_TEMP], path[80];

IGRshort		option;

long			t1, t2,t,  stat, msg, nput, 
			size, nret;

IGRint			num_ent, i, j, k, l, num_temp,
			type; 

extern GRclassid	OPP_EMSsubbs_class_id;

extern		UI_status(), UI_message();
extern int 	init_cnst_list(), 
		ASsuper_construct(),
		GRdpb_get(),
		GRdpb_put(),
		ACcreate_def_temp(),
		printf(),
		sprintf(),
		SMSurfBnd();






/* ========================================================================= */
/* the main function is the one implementing the definition creation
/* ========================================================================= */

main ()
{
  struct ret_struct ret_str[MAX_TEMP];

  feet_names[0] = "boundvol";

  temp_names[0] = "attributes";  
  temp_types[0] = ~0  ;
  
  k=1;
  for (i=0; i<MAX_SURF; i=i+1)
  {
	strcpy (&buff1[i*MAX_CHA_TEMP],"surf");
	sprintf(&buff1[i*MAX_CHA_TEMP+MAX_CHA_ROOT],"%d",i);
	temp_names[k] = &buff1[i*MAX_CHA_TEMP];
        temp_types[k] = other_generic ;
        k=k+1;
		
  }



  ci_mac_def1 = NULL_OBJID;

  ac$cimacdef( 	cimacdef          	= ci_mac_def1,
		prop 		  	= ACvariable_template|ACkeep_template,
		status 	          	= &stat,
		name              	= "SMVolBnd",
             	temp_num  		= MAX_TEMP,
 		temp_names 		= temp_names,
                temp_types 		= temp_types,
	      	extern_feet_num 	= 1, 
		extern_feet_names 	= feet_names);



}

