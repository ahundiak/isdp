----------------------------------------------------------------------
Name	:NQSsetup.doc
Date	:03/20/97
Re	:Nqs Setup procedure for Solaris 
----------------------------------------------------------------------

The following steps should be followed to setup the NQS 7.5.00.04 for Batch 
Visualisation process on Intel Solaris machines.

1. Download NQS.
2. Setup NQS.
3. rje account.
4. Console permissions. 
5. Reboot.
7. Remote Xwindow access.
8. mailx configuration:


----------------------------------------------------------------------
1. Download NQS.

   Give the following answers to queries in product installation.

    Will this machine be a CLIENT only? [n]  n
    Do you want the NQS logging process started by default? [y]  y
    Do you want to map all remote users to user[rje] by default? [y] y
    Do you want to load the pconfig utility? [y] y 




2. Setup NQS. 
   Modify /etc/init.d/nqs, so that it starts with.

#!/bin/ksh
#       07/11/88 Copyright (c) 1988 by Intergraph Corp.
#       nqs control
PATH=$PATH:/opt/ingr/bin
INGRHOME=/opt/ingr
LD_LIBRARY_PATH=/opt/ingr/lib:/usr/openwin/lib:/usr/lib
export PATH INGRHOME LD_LIBRARY_PATH




2.1.  Start NQS.
   #/etc/init.d/nqs start
 




2.2. Run $VDS/batch/init.nqs script 

    #cd $VDS/batch 
    # ./init.nqs

    If fails, run it again.




3. rje account. Create directory /usr/rje. 
     #cd /usr
     #mkdir rje




3.1. Copy $VDS/batch/PROFILE (and ENV) files to /usr/rje directory.
     # cp $VDS/batch/PROFILE  /usr/rje/.profile
     # cp $VDS/batch/ENV  /usr/rje/.env




3.2. To allow users to take ownership of files transmitted by NQS, rje account
     should be of users group. Your system administrator may use other methods.






4. Console permissions. Change the permissions of /dev/console output link.
     # chmod 666 /devices/pseudo/cn@0:console





5. Reboot the machine and check that those daemon processes are present.
   ------

   eg:

    # ps -ef | grep -i nqs

    root   231   230 13 23:06:40 ?        0:00 /opt/ingr/lib/nqs/netdaemon
    root   230     1 15 23:06:40 ?        0:00 /opt/ingr/lib/nqs/nqsdaemon
    root   207     1  9 23:06:38 ?        0:00 NQS logdaemon

     



6. Stucked Queue ("Routing" stage) on Solaris. 
   - run Queue Manager (/usr/bin/qmgr)

# qmgr 
> stop queue <queue_name>
> disable queue <queue_name>
> shutdown
> exit


   - then stop NQS 
# /etx/init.d/nqs start


   - then from qmgr purge the queue:
# qmgr
> purge queue <queue_name>
> exit





7. Remote Xwindow access. 
   For batch processing to work properly the executing (server) node must run:

#xhost +




8. mailx configuration:
    Edit the /etc/hosts file and enter the hostid  that you want.

    Edit the /etc/resolv.conf to enter name server addresses and domain server.
          
         eg: The entries in the file looks like the following.

                domain  india.ingr.com
                nameserver      129.135.153.31
                nameserver      129.135.153.95
                nameserver      129.135.153.96

    Edit the file nsswitch.conf and check for the following entry.
          hosts    dns files 


