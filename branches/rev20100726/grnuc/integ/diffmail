getfixfields FILES ~/allfixforms | sort > /usr2/tmp/jsd.all
getfixfields FILES /usr/mail/$LOGNAME | sort > /usr2/tmp/jsd.elm

diff /usr2/tmp/jsd.all /usr2/tmp/jsd.elm | sort > /usr2/tmp/jsd.diff

grep "<" /usr2/tmp/jsd.diff > /usr2/tmp/jsd.all
grep ">" /usr2/tmp/jsd.diff > /usr2/tmp/jsd.elm

if [ -s /usr2/tmp/jsd.all ]
then
  echo "\n\nIN MAILLESS BUT NOT IN MAIL" > /usr2/tmp/jsd.diff2
  cat /usr2/tmp/jsd.all >> /usr2/tmp/jsd.diff2
fi

if [ -s /usr2/tmp/jsd.elm ]
then
  echo "\n\nIN MAIL BUT NOT IN MAILLESS" >> /usr2/tmp/jsd.diff2
  cat /usr2/tmp/jsd.elm >> /usr2/tmp/jsd.diff2
fi

if [ -s /usr2/tmp/jsd.diff2 ]
then
  mv /usr2/tmp/jsd.diff2 /usr2/tmp/jsd.diff
  cat /usr2/tmp/jsd.diff
  echo "\n\n"
else
  rm /usr2/tmp/jsd.diff
fi

rm /usr2/tmp/jsd.all
rm /usr2/tmp/jsd.elm

if [ -f /usr2/tmp/jsd.diff ]
then
  rcmd model -l $LOGNAME $RCSTOOL/RCSstatus1 $LOGNAME
else
  echo "\nEverything looks fine for $LOGNAME fixes forms\n"
fi
