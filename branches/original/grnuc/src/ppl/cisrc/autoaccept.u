#include "ciminimum.h"
#include "msdef.h"
#include "grdpbdef.h"
#include "msmacros.h"
#include "grdpbmacros.h"
#include "grmessage.h"

#define OFF		0
#define ON		1
#define INQUIRE		2

extern int MSmessage();

main (argc, argv)
int argc;
char *argv[];
{
    short   state;
    int     msgkey;

    if (argc > 1)
    {
        state = (short)( atoi( argv[1] ));
        gr$put_auto_accept_flag( buffer = &state );
        gr$get_auto_accept_flag( buffer = &state );
    }
    else
    {
        /* toggle the state */
        gr$get_auto_accept_flag( buffer = &state );
        state = !state;
        gr$put_auto_accept_flag( buffer = &state );
    }

    /* echo the current setting */

    if( state )
    {
        msgkey = GR_I_AutoAccOn;
    }
    else
    {
        msgkey = GR_I_AutoAccOff;
    }
    ex$message (msgnumb = msgkey);
}
