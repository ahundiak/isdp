#!/bin/ksh
# $Id: vr_rmMake,v 1.2 2002/04/30 18:25:46 anand Exp $

# -------------------------------------------------------------------
# I/ROUTE
#
# File:	route/etc/bin/vd_rmMake
#
# Description:
#	Remove all makefiles
#
# Dependencies:
#
# Revision History:
#	$Log: vr_rmMake,v $
#	Revision 1.2  2002/04/30 18:25:46  anand
#	#!Shebang line has to be the first line in a script#!
#	
#	Revision 1.1.1.1  2001/01/04 21:12:07  cvs
#	Initial import to CVS
#	
# Revision 1.4  1995/12/08  21:26:56  pinnacle
# Replaced: etc/bin/vr_rmMake for:  by r240_int for route240
#
# Revision 1.3  1995/12/06  15:02:10  pinnacle
# Replaced: etc/bin/vr_rmMake for:  by r240_int for route240
#
# Revision 1.2  1995/12/03  21:05:38  pinnacle
# Replaced: etc/bin/vr_rmMake for:  by r240_int for route240
#
# Revision 1.1  1995/12/03  19:21:40  pinnacle
# Created: etc/bin/vr_rmMake by r240_int for route240
#
#
# History:
#	MM/DD/YY	AUTHOR		DESCRIPTION
#	12/03/95	tlb		created
#	12/03//95	tlb		Use vrrebuild method
#	12/07/95	tlb		change makefile to mkfile
#	3-98		KDD		Directory tree v[rc]* == vc* + vr* 
# -------------------------------------------------------------------

function Error {
	/usr/bin/tput bel
	echo $1
        echo "\t\tError $1" >> ${LOGFILE} 2>$1
}

cd $ROUTE
#Get rid of mkfiles ...
echo "\tGetting rid of mkfiles :\n"
for dir in v[rc]*
do
	if [ -f ${dir}/mkfile ] ; then
		echo "\t\t- ${dir}/mkfile\n"
		if /bin/rm ${dir}/mkfile 2>/dev/null ; then
			:
		else
			Error "Cannot erase ${i}/mkfile"
			/bin/ls -l ${dir}/mkfile
		fi
	fi
done	

if [ "blob${ERROR}" != "blob" ] ; then
	Error "\n${ERROR}"
	RC=1
fi
exit $RC

