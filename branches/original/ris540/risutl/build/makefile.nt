# Do not alter this SPC information: $Revision: 1.5.9.1 $
!include $(RISDEVDIR)\risutl\build\defines.nt

UMS_MSG_DIR=$(RISDEVDIR)\risutl\config\english\messages
UMS_TXT_DIR=$(RISDEVDIR)\risutl\config\english\messages\src

fast: version source resource lib bin

world: cleanworld subdirs prototypes version source resource lib bin

prototypes:
	@echo.
	@echo 	Making ucommon prototypes
	@cd $(RISDEVDIR)\risutl\ucommon
	@mk prototypes

	@echo.
	@echo 	Making userver prototypes
	@cd $(RISDEVDIR)\risutl\userver
	@mk prototypes

	@echo.
	@echo 	Making batch prototypes
	@cd $(RISDEVDIR)\risutl\batch
	@mk prototypes

	@echo.
	@echo 	Making clnsr prototypes
	@cd $(RISDEVDIR)\risutl\clnsr
	@mk prototypes

	@echo.
	@echo 	Making dcode prototypes
	@cd $(RISDEVDIR)\risutl\dcode
	@mk prototypes

	@echo.
	@echo 	Making dtype prototypes
	@cd $(RISDEVDIR)\risutl\dtype
	@mk prototypes

	@echo.
	@echo 	Making forms prototypes
	@cd $(RISDEVDIR)\risutl\forms
	@mk prototypes

	@echo.
	@echo 	Making dloadfrm prototypes
	@cd $(RISDEVDIR)\risutl\dloadfrm
	@mk prototypes

	@echo.
	@echo 	Making dloadld prototypes
	@cd $(RISDEVDIR)\risutl\dloadld
	@mk prototypes

	@echo.
	@echo 	Making gui prototypes
	@cd $(RISDEVDIR)\risutl\gui
	@mk prototypes

	@echo.
	@echo 	Making lod prototypes
	@cd $(RISDEVDIR)\risutl\lod
	@mk prototypes

	@echo.
	@echo 	Making plbck prototypes
	@cd $(RISDEVDIR)\risutl\plbck
	@mk prototypes

	@echo.
	@echo 	Making recrd prototypes
	@cd $(RISDEVDIR)\risutl\recrd
	@mk prototypes

	@echo.
	@echo 	Making run prototypes
	@cd $(RISDEVDIR)\risutl\run
	@mk prototypes

	@echo.
	@echo 	Making unlod prototypes
	@cd $(RISDEVDIR)\risutl\unlod
	@mk prototypes

	@echo.
	@echo 	Making upparm prototypes
	@cd $(RISDEVDIR)\risutl\upparm
	@mk prototypes

	@echo.
	@echo 	Making util prototypes
	@cd $(RISDEVDIR)\risutl\util
	@mk prototypes


	@echo.
	@echo 	Making rliclist prototypes
	@cd $(RISDEVDIR)\risutl\rliclist
	@mk prototypes

subdirs:
	@echo.
	@echo 	Creating ucommon subdirectories
	@-mkdir $(RISDEVDIR)\risutl\ucommon\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\ucommon\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\ucommon\$(OBJDIR32S) 2>NUL

	@echo.
	@echo 	Creating userver subdirectories
	@-mkdir $(RISDEVDIR)\risutl\userver\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\userver\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\userver\$(OBJDIR32S) 2>NUL

	@echo.
	@echo 	Creating winio subdirectories
	@-mkdir $(RISDEVDIR)\risutl\winio\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\winio\$(OBJDIR32S) 2>NUL

	@echo.
	@echo 	Creating batch subdirectories
	@-mkdir $(RISDEVDIR)\risutl\batch\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\batch\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\batch\$(OBJDIR32S) 2>NUL

	@echo.
	@echo 	Creating clnsr subdirectories
	@-mkdir $(RISDEVDIR)\risutl\clnsr\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\clnsr\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\clnsr\$(OBJDIR32S) 2>NUL

	@echo.
	@echo 	Creating dcode subdirectories
	@-mkdir $(RISDEVDIR)\risutl\dcode\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\dcode\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\dcode\$(OBJDIR32S) 2>NUL

	@echo.
	@echo 	Creating dtype subdirectories
	@-mkdir $(RISDEVDIR)\risutl\dtype\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\dtype\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\dtype\$(OBJDIR32S) 2>NUL

	@echo.
	@echo 	Creating forms subdirectories
	@-mkdir $(RISDEVDIR)\risutl\forms\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\forms\$(OBJDIR) 2>NUL

	@echo.
	@echo 	Creating dloadfrm subdirectories
	@-mkdir $(RISDEVDIR)\risutl\dloadfrm\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\dloadfrm\$(OBJDIR) 2>NUL

	@echo.
	@echo 	Creating dloadld subdirectories
	@-mkdir $(RISDEVDIR)\risutl\dloadld\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\dloadld\$(OBJDIR) 2>NUL

	@echo.
	@echo 	Creating gui subdirectories
	@-mkdir $(RISDEVDIR)\risutl\gui\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\gui\$(OBJDIR) 2>NUL

	@echo.
	@echo 	Creating lod subdirectories
	@-mkdir $(RISDEVDIR)\risutl\lod\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\lod\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\lod\$(OBJDIR32S) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\lod\$(OBJDIR32SEXE) 2>NUL

	@echo.
	@echo 	Creating plbck subdirectories
	@-mkdir $(RISDEVDIR)\risutl\plbck\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\plbck\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\plbck\$(OBJDIR32S) 2>NUL

	@echo.
	@echo 	Creating recrd subdirectories
	@-mkdir $(RISDEVDIR)\risutl\recrd\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\recrd\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\recrd\$(OBJDIR32S) 2>NUL

	@echo.
	@echo 	Creating run subdirectories
	@-mkdir $(RISDEVDIR)\risutl\run\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\run\$(OBJDIR) 2>NUL

	@echo.
	@echo 	Creating unlod subdirectories
	@-mkdir $(RISDEVDIR)\risutl\unlod\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\unlod\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\unlod\$(OBJDIR32S) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\unlod\$(OBJDIR32SEXE) 2>NUL

	@echo.
	@echo 	Creating upparm subdirectories
	@-mkdir $(RISDEVDIR)\risutl\upparm\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\upparm\$(OBJDIR) 2>NUL

	@echo.
	@echo 	Creating util subdirectories
	@-mkdir $(RISDEVDIR)\risutl\util\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\util\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\util\$(OBJDIR32S) 2>NUL

	@echo.
	@echo 	Creating resource subdirectories
	@-mkdir $(RISDEVDIR)\risutl\resource\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\resource\$(OBJDIR32S) 2>NUL

	@echo.
	@echo 	Creating lib subdirectories
	@-mkdir $(RISDEVDIR)\risutl\lib\$(LIBDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\lib\$(LIBDIR32S) 2>NUL
	
	@echo.
	@echo 	Creating bin subdirectories
	@-mkdir $(RISDEVDIR)\risutl\bin\$(BINDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\bin\$(BINDIR32S) 2>NUL


	@echo.
	@echo 	Creating rliclist subdirectories
	@-mkdir $(RISDEVDIR)\risutl\rliclist\prt 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\rliclist\$(OBJDIR) 2>NUL
	@-mkdir $(RISDEVDIR)\risutl\rliclist\$(OBJDIR32S) 2>NUL
        @-mkdir $(RISDEVDIR)\risutl\rliclist\$(OBJDIR32SEXE) 2>NUL

version:
	@echo.
	@echo Making $(RISDEVDIR)\riscom\internal\risver.h
	@cd $(RISDEVDIR)\riscom\build
	@makevers
	@cd $(RISDEVDIR)\risutl\build

source:
	@echo.
	@echo 	Making ucommon
	@cd $(RISDEVDIR)\risutl\ucommon
	@mk

	@echo.
	@echo 	Making userver
	@cd $(RISDEVDIR)\risutl\userver
	@mk

	@echo.
	@echo 	Making batch
	@cd $(RISDEVDIR)\risutl\batch
	@mk

	@echo.
	@echo 	Making clnsr
	@cd $(RISDEVDIR)\risutl\clnsr
	@mk

	@echo.
	@echo 	Making dcode
	@cd $(RISDEVDIR)\risutl\dcode
	@mk

	@echo.
	@echo 	Making dtype
	@cd $(RISDEVDIR)\risutl\dtype
	@mk

	@echo.
	@echo 	Making forms
	@cd $(RISDEVDIR)\risutl\forms
	@mk

	@echo.
	@echo 	Making dloadfrm
	@cd $(RISDEVDIR)\risutl\dloadfrm
	@mk

	@echo.
	@echo 	Making dloadld
	@cd $(RISDEVDIR)\risutl\dloadld
	@mk

	@echo.
	@echo 	Making gui
	@cd $(RISDEVDIR)\risutl\gui
	@mk

	@echo.
	@echo 	Making lod
	@cd $(RISDEVDIR)\risutl\lod
	@mk

	@echo.
	@echo 	Making plbck
	@cd $(RISDEVDIR)\risutl\plbck
	@mk

	@echo.
	@echo 	Making recrd
	@cd $(RISDEVDIR)\risutl\recrd
	@mk

	@echo.
	@echo 	Making run
	@cd $(RISDEVDIR)\risutl\run
	@mk

	@echo.
	@echo 	Making unlod
	@cd $(RISDEVDIR)\risutl\unlod
	@mk

	@echo.
	@echo 	Making upparm
	@cd $(RISDEVDIR)\risutl\upparm
	@mk

	@echo.
	@echo 	Making util
	@cd $(RISDEVDIR)\risutl\util
	@mk

	@echo.
	@echo 	Making winio
	@cd $(RISDEVDIR)\risutl\winio
	@mk

	@echo.
	@echo 	Making rliclist
	@cd $(RISDEVDIR)\risutl\rliclist
	@mk

resource:
	@echo.
	@echo 	Making NT resource
	@cd $(RISDEVDIR)\risutl\resource
	@mk


lib:
	@echo.
	@echo 	Making lib
	@cd $(RISDEVDIR)\risutl\lib
	@mk

bin:
	@echo.
	@echo 	Making bin
	@cd $(RISDEVDIR)\risutl\bin
	@mk

cleanworld: cleanobjdir cleanmakeout cleanresource cleanlib cleanbin

cleanobjdir:
	@echo.
	@echo 	Cleaning object directories
	@-del/q $(RISDEVDIR)\risutl\ucommon\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\userver\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\batch\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\clnsr\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dcode\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dcode\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dloadfrm\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dloadld\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dtype\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\forms\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\gui\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\lod\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\rliclist\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\plbck\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\recrd\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\run\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\unlod\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\upparm\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\util\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\ucommon\$(OBJDIR32S)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\userver\$(OBJDIR32S)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\batch\$(OBJDIR32S)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\util\$(OBJDIR32S)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\winio\$(OBJDIR32S)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\clnsr\$(OBJDIR32S)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dtype\$(OBJDIR32S)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\plbck\$(OBJDIR32S)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\recrd\$(OBJDIR32S)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\unlod\$(OBJDIR32S)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\unlod\$(OBJDIR32SEXE)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\lod\$(OBJDIR32S)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\rliclist\$(OBJDIR32S)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\lod\$(OBJDIR32SEXE)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\rliclist\$(OBJDIR32SEXE)\* 2>NUL

cleanmakeout:
	@echo.
	@echo 	Cleaning makeout
	@-del/q $(RISDEVDIR)\risutl\ucommon\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\userver\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\batch\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\clnsr\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dcode\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dloadfrm\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dloadld\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dtype\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\forms\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\gui\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\lod\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\plbck\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\recrd\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\run\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\unlod\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\upparm\makeout 2>NUL
	@-del/q $(RISDEVDIR)\risutl\util\makeout 2>NUL

cleanprototypes:
	@echo.
	@echo 	Cleaning prototypes
	@-del/q $(RISDEVDIR)\risutl\ucommon\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\userver\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\batch\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\clnsr\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dcode\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dloadfrm\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dloadld\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\dtype\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\forms\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\gui\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\lod\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\plbck\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\recrd\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\run\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\unlod\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\upparm\prt\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\util\prt\* 2>NUL

cleanlib:
	@echo.
	@echo 	Cleaning lib
	@-del/q $(RISDEVDIR)\risutl\lib\$(LIBDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\lib\$(LIBDIR32S)\* 2>NUL

cleanresource:
	@echo.
	@echo 	Cleaning resource
	@-del/q $(RISDEVDIR)\risutl\resource\$(OBJDIR)\* 2>NUL
	@-del/q $(RISDEVDIR)\risutl\resource\$(OBJDIR32S)\* 2>NUL

cleanbin:
	@echo.
	@echo 	Cleaning bin
	@-del/q $(RISDEVDIR)\risutl\bin\$(BINDIR)\*.exe 2>NUL
	@-del/q $(RISDEVDIR)\risutl\bin\$(BINDIR32S)\*.exe 2>NUL
	@cd $(RISDEVDIR)\risutl\bin

backuplist backlist:
	@bckup.bat -l

backupzip backzip:
	@bckup.bat -z

backuptree backtree:
	@bckup.bat -t
