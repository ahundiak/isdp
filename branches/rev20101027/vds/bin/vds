# $Id: vds,v 1.1.1.1 2001/01/04 21:07:19 cvs Exp $

# -------------------------------------------------------------------
# I/VDS
#
# File:	vds/bin/vds 
#
# Description:
#
# Dependencies:
#
# Revision History:
#	$Log: vds,v $
#	Revision 1.1.1.1  2001/01/04 21:07:19  cvs
#	Initial import to CVS
#	
# Revision 1.3  1995/12/12  15:09:32  pinnacle
# Replaced: bin/vds for:  by azuurhou for vds.240
#
# Revision 1.2  1995/12/11  21:55:20  pinnacle
# Replaced: bin/vds for:  by azuurhou for vds.240
#
# Revision 1.1  1994/11/14  22:42:32  pinnacle
# Create vds.240 from vds.232
#
# Revision 1.1  1994/11/08  16:07:00  pinnacle
# create vds.232
#
#
# History:
#	MM/DD/YY	AUTHOR		DESCRIPTION
#
# -------------------------------------------------------------------

#   NAME
#
#   vds - invoke Vds via drive
#
#   SYNOPSIS
#
#   vds [Vds arguments]
#
#   DESCRIPTION
#
#   This script allows one to invoke Vds with drive in order to
#   ease the memory requirements of forking up subprocesses.
#
#   NOTE
#
#   This script works only with shells compatible with ksh.
#
#   However, this script could be easily modified to run under sh
#   -- although the result would be somewhat more verbose.
#
#   HISTORY
#
#   30 Sep 1997 law Added environment variable VD_CHECK_REF_LIB.
#   28 Mar 1989 jBk Enhanced echopath function to ignore lines in
#                   product_data file which begin with #.
#   08 Mar 1989 jBk Removed CAVEAT.
#                   Modified script not to write a subscript but
#                   to use the quotation of $@ in order to pass
#                   whitespace-containing arguments to the image.
#   02 Mar 1989 jBk Modified script so it complains if two or
#                   more distinct paths are found for a
#                   particular product.
#                   Reversed order of searches for I/IGE-I/EXNUC
#                   and I/DRAFT-I/GRNUC pairs so that complaints
#                   will be about I/EXNUC and I/GRNUC and not
#                   about the now obsolete I/IGE and I/DRAFT.
#   01 Feb 1989 jBk Enhanced to provide the ability to pass
#                   unchanged to the executable arguments
#                   containing whitespace.
#   20 Jan 1989 jBk Look for I/EXNUC and I/GRNUC as well as I/IGE
#                   and I/DRAFT.
#   03 May 1988 jBk Look for whitespace around product names so
#                   names that begin the same do not get
#                   confused.
#   27 Apr 1988 jBk Since we now have the wonderful product_data
#                   file, this script was rewritten to get paths
#                   from the file, /usr/ip32/product_data,
#                   instead of shell variables and/or
#                   derivations.  Even changed the comments!
#   26 Apr 1988 jBk Added exit directive to cause script to exit
#                   with returned status of image.
#   12 Mar 1988 jBk Improved robustness of deriving paths.  Also
#                   altered to cause app_path to be the directory
#                   above where this script resides, instead of
#                   an explicitly-named subdirectory of the
#                   second directory above where this script
#                   resides.
#   22 Mar 1988 jBk Modified so ${app_path}/bin/executableName is
#                   path for executable.
#   09 Mar 1988 jBk Fixed a typo in CIPATH definition.
#   24 Feb 1988 jBk Added CIPATH test and definition.
#                   Make path variable always the expanded path
#                   to the platform.
#                   If ${IGE}, ${DRAFT} and/or ${VDS} are
#                   directories, use these definitions instead of
#                   relative paths.
#   24 Feb 1988 AIC Fixed a typo.
#   23 Feb 1988 jBk Uppercased ige variable to IGE since that is
#                   the new standard name.
#   21 Feb 1988 AIC If ${IGE} is a directory, use
#                   ${IGE}/bin/drive instead of the relative
#                   ige/bin/drive. 
#   23 Dec 1987 jBk Slightly altered NOTE.
#   24 Nov 1987 jBk Creation.

EXNUC=`echopath EXNUC`

MODEL=`echopath MODEL`


#
# VDS=`echopath VDS`
# ${VDS}/bin/nonpduinit.sh
#
# 
# 02/14/94 Adz: Using this export variables results in an error when vds is
# 		is called in background. 
# if [ "$VDS_PROJ_NO" = "" ]; then export VDS_PROJ_NO=0; fi
#
# An export variable is introduced for command "Report From Database"
#	This command allows users to define the window setting.
#		- ""     : save / restore OFF
#		- "BOTH" : save / restore ON
#

export PDM_FORM_TO_WIN="BOTH"
export VD_CHECK_REF_LIB="1"

${EXNUC}/bin/drive ${MODEL}/bin/Model -p Vds "$@"
exit $?
