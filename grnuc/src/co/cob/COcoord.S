/*

Name
  COcoord

Abstract
  This class if for the precision keying commands which reference coordinates
  of coordinate system objects.  These commands are DL= and XY=.

Description
  Class specification of methods and instance data needed for calculating the
  data point(s) to be generated by the DL= and XY= precision keying commands.

Notes

History
  07/10/93 : Shelley R. Heard : Header created; COcoord.sl file retired.
				Replaced by COcoord.sl and COcoordi.I.

 */
class specification COcoord (1:0) of COnpt;


#include "coimport.h"
#include "exdef.h"
#include "ex.h"
#include "csdef.h"
#include "grcoordsys.h"


/*
 *  COcoord - special command object to handle the specific problems of
 *   the coordinate system dependent precision keyin commands
 *
 *  History:
 *
 *      srh  11/06/87   -   created, to replace command object classes 
 *                          COdpt and COpt, which were written by trc
 *      srh  08/09/88   -   added npts = 1 arg to calls to CScoords convert
 *                          methods for 1.2 release.
 *      srh  08/09/88   -   store_coordinate actions allows a data point as
 *                          a coordinate specifier
 *      srh  11/02/89   -   added multi point generation capability to DL
 *                          by adding the action generate_delta_data_points
 */


instance COcoord
{
    IGRchar            CSType[MAX_CS_TYPE];
    IGRshort           NumberOfInputs;
    IGRint             InputsGotten;
    struct EX_button   LastPoint;   /* last point from dpb   */
    struct GRid        SpecifiedCSGrid,
                       CSMgrGrid;
    variable IGRdouble DefaultCoordinates[],
                       SpecifiedCoordinates[];  /* last pt in local coords */
    variable struct GRcsquery_info   CoordinateInfo[];
    struct GRcsquery_info           *p_CoordinateInfo;
};


message get_cs_manager ( long * sts );

message load_default_query_info ( long * sts );

message load_specified_query_info ( long * sts );

message load_cs_environment ( long * sts );

message set_cs_prompt_and_mask ( long * sts );

message store_coordinate ( long * sts );

message store_coordinate_delta ( long * sts );

message generate_world_data_point ( long * sts );

message reset_input_count ( long * sts );

message increment_input_count ( long * sts );

message decrement_input_count ( long * sts );

message generate_delta_data_points ( long * sts );

end specification COcoord;
