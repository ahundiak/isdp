/****************************************************************************/
/*								            */
/*  Program:	ciexample4.u						    */
/*  Macro(s): ci$getevent, ci$quiet					    */
/*  Defined in:  cievent.h				                    */
/*  Comments: Obtains user input using the data keyword to obtain the       */
/*	coordinates of a keyed-in data point.	Ci$quiet used to turn off   */
/*	messages.							    */
/****************************************************************************/

#include "ciminimum.h"
#include "cimacros.h"
#include "godef.h"
#include "gr.h"
#include "igr.h"
#include "igrdp.h"
#include "go.h"
#include "ex.h"
#include "grio.h"
#include "grlastele.h"

struct GRevent my_event;
int resp, nb_read;
double pt1[3],pt2[3];
GRobj line_ele;

main()
{
	do{
	ci$getevent( event = &my_event,
		     response = &resp,
                     data = pt1,
	             prompt = "Enter a data point");
	
	ci$getevent( event = &my_event,
		     response = &resp,
                     data = pt2,
	             prompt = "Enter a data point");
	}while (resp != DATA);


	begincmd("place line segment");
	ci$put(point=pt1);
	ci$put(point=pt2);
	ci$d_reset();
	endcmd();

	ci$quiet(msg=0);
	gr$last_elements(parents=0,pobj=&line_ele,nb_wanted=1,nb_read=&nb_read);
	
	begincmd("delete");
	ci$put(obj	= line_ele);
	ci$put(point	= pt2);
	ci$put(response	= TERMINATE);
	endcmd();

}	/* End Main */
	
