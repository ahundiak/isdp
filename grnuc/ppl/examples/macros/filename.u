/************************************************************************/
/*                                                                      */
/*      Program: filename.u         Macro: ex$filename			*/
/*                                                                      */
/*      Defined in: exmacros.h						*/
/*                                                                      */
/*      Comments: _____________________________________________________ */
/*									*/
/*                                                                      */
/************************************************************************/
#include "stdio.h"
#include "ciminimum.h"
#include "cimacros.h"
#include "exmacros.h"

extern EX_filename1();

extern char *strrchr(); 

main()

{

	
	char total_path[OM_K_MAXOSNAME_LEN], *ptr;

	ex$filename( name = total_path,
				len = OM_K_MAXOSNAME_LEN );

	write("Full Path Name: ",total_path,"\n");

	// Truncate the full path to just the file name as below
	// by finding out the pointer for the last occurence of /

	ptr = strrchr( total_path, '/' );

	ptr = ptr + 1;

	write("File Name: ",ptr,"\n");

}
