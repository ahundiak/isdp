/************************************************************************/
/*									*/
/*	Program: getansfinfo.u	Macro:md$get_analytical_surface_info()	*/
/*									*/
/*	Defined in: ci_surface.h					*/
/*									*/
/*	Comments: owner_action is defined in $GRNUC/include/lcdef.h	*/
/*									*/
/************************************************************************/

#include "ciminimum.h"
#include "cimacros.h"
#include "ci_surface.h"

main()
{
   int             type;
   struct GRid     SURFACE;
   struct EMsurface_params anl;		// structure defined in EMSsfparms.h

   message("get analytical surface info");

   while(1)
   {   

        ci$locate( obj   = &SURFACE.objid,
                   osnum = &SURFACE.osnum,
                   classes = "EMSsubbs",
		   owner_action = LC_RIGID_COMP | LC_ASSOCIATIVE,
                   md_env = &MOD_ENV,
                   prompt= "Identify surface to get info about");

        md$get_analytical_surface_info( 
                        GRid_in =SURFACE,
                        anl_struct = &anl,
                        srf_type = &type,
                        md_env = MOD_ENV);

        write("******************* surface information *******************\n");
        write("type =",type,'\n');
        write("range=",anl.range,"\n");
        if(type == 0) 
                write("gen or rev axis =",anl.params.revolve.axis,"\n");
        if(type == 1) 
                write("cylinder area =",anl.params.cyl.area,"\n");
        if(type == 2) 
                write("cone area =",anl.params.cone.area,"\n");
        if(type == 3) 
                write("ell cylinder area=",anl.params.elpcyl.area,"\n");
        if(type == 4) 
                write("ell cone area =",anl.params.elpcone.area,"\n");
        if(type == 5) 
                write("sphere area =",anl.params.sphere.area,"\n");
        if(type == 6) 
                write("ellipsoid  area=",anl.params.elpsd.area,"\n");
        if(type == 7) 
                write("torus  area=",anl.params.torus.area,"\n");
        if(type == 8) 
                write("partial cylinder area =",anl.params.pcyl.area,"\n");
        if(type == 9) 
                write("partial cone area =",anl.params.pcone.area,"\n");
        if(type == 10)
                 write("surface of projection axis points\n",
			anl.params.project.axis_point0,"\n",
			anl.params.project.axis_point1,"\n");
        if(type == 11)
                 write("surface of revolution axis points=",
			anl.params.revolve.axis,"\n");
                      
  }

}
