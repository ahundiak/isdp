#!/bin/ksh
# $Id: vr_mkSpec,v 1.2 2002/04/30 18:25:46 anand Exp $

# -------------------------------------------------------------------
# I/ROUTE
#
# File:	route/etc/bin/vd_mkSpec
#
# Description:
#	Create spec files
#
# Dependencies:
#
# Revision History:
#	$Log: vr_mkSpec,v $
#	Revision 1.2  2002/04/30 18:25:46  anand
#	#!Shebang line has to be the first line in a script#!
#	
#	Revision 1.1.1.1  2001/01/04 21:12:07  cvs
#	Initial import to CVS
#	
# Revision 1.3  1995/12/08  21:26:12  pinnacle
# Replaced: etc/bin/vr_mkSpec for:  by r240_int for route240
#
# Revision 1.2  1995/12/05  23:48:30  pinnacle
# Replaced: etc/bin/vr_mkSpec for:  by r240_int for route240
#
# Revision 1.1  1995/12/03  21:07:22  pinnacle
# Created: etc/bin/vr_mkSpec by r240_int for route240
#
#
#
# History:
#	12/03/95	tlb		created based on vrrebuild
#	12/06/95	tlb		add link to spec directory
#	12/07/95	tlb		modifiy to use new vrslic, remove __SRC
#	3-98		KDD		Added Cable tree v[cr]* == vc* + vr*.
# -------------------------------------------------------------------

function Error {
	/usr/bin/tput bel
	echo $1
        echo "\t\tError $1" >> ${LOGFILE} 2>$1
}

#Slic directories .
echo "\n  Slic and link .S files :"

for DIR in ${ROUTE}/v[rc]*
do
	if ${ROUTE}/etc/bin/vrslic ${DIR} ; then
		 :
	else
		ERROR=${ERROR}" \t--> Slic failed in ${DIR}\n"
	fi
	/bin/ln ${DIR}/*.S ${ROUTE}/spec > /dev/null 2>&1
done

if [ "blob${ERROR}" != "blob" ] ; then
	Error "\n${ERROR}"
	RC=1
fi
exit $RC

